var app=function(){"use strict";function t(){}const n=t=>t;function e(t,n){for(const e in n)t[e]=n[e];return t}function o(t){return t()}function l(){return Object.create(null)}function i(t){t.forEach(o)}function c(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}const r="undefined"!=typeof window;let a=r?()=>window.performance.now():()=>Date.now(),u=r?t=>requestAnimationFrame(t):t;const d=new Set;function f(t){d.forEach((n=>{n.c(t)||(d.delete(n),n.f())})),0!==d.size&&u(f)}function p(t,n){t.appendChild(n)}function h(t,n,e){t.insertBefore(n,e||null)}function m(t){t.parentNode.removeChild(t)}function g(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function v(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function $(){return y(" ")}function w(){return y("")}function x(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function _(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function k(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function C(t,n){t.value=null==n?"":n}function E(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}function L(t,n){for(let e=0;e<t.options.length;e+=1){const o=t.options[e];if(o.__value===n)return void(o.selected=!0)}}function j(t,n,e){t.classList[e?"add":"remove"](n)}function z(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}const S=new Set;let M,T=0;function q(t,n,e,o,l,i,c,s=0){const r=16.666/o;let a="{\n";for(let t=0;t<=1;t+=r){const o=n+(e-n)*i(t);a+=100*t+`%{${c(o,1-o)}}\n`}const u=a+`100% {${c(e,1-e)}}\n}`,d=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(u)}_${s}`,f=t.ownerDocument;S.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(v("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${d} ${o}ms linear ${l}ms 1 both`,T+=1,d}function A(t,n){const e=(t.style.animation||"").split(", "),o=e.filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")),l=e.length-o.length;l&&(t.style.animation=o.join(", "),T-=l,T||u((()=>{T||(S.forEach((t=>{const n=t.__svelte_stylesheet;let e=n.cssRules.length;for(;e--;)n.deleteRule(e);t.__svelte_rules={}})),S.clear())})))}function O(t){M=t}function I(){if(!M)throw new Error("Function called outside component initialization");return M}function H(t){I().$$.on_mount.push(t)}function N(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach((t=>t(n)))}const D=[],R=[],P=[],V=[],U=Promise.resolve();let B=!1;function F(){B||(B=!0,U.then(J))}function W(t){P.push(t)}function G(t){V.push(t)}let Y=!1;const X=new Set;function J(){if(!Y){Y=!0;do{for(let t=0;t<D.length;t+=1){const n=D[t];O(n),K(n.$$)}for(O(null),D.length=0;R.length;)R.pop()();for(let t=0;t<P.length;t+=1){const n=P[t];X.has(n)||(X.add(n),n())}P.length=0}while(D.length);for(;V.length;)V.pop()();B=!1,Y=!1,X.clear()}}function K(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(W)}}let Q;function Z(t,n,e){t.dispatchEvent(z(`${n?"intro":"outro"}${e}`))}const tt=new Set;let nt;function et(){nt={r:0,c:[],p:nt}}function ot(){nt.r||i(nt.c),nt=nt.p}function lt(t,n){t&&t.i&&(tt.delete(t),t.i(n))}function it(t,n,e,o){if(t&&t.o){if(tt.has(t))return;tt.add(t),nt.c.push((()=>{tt.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}const ct={duration:0};function st(e,o,l,s){let r=o(e,l),p=s?0:1,h=null,m=null,g=null;function v(){g&&A(e,g)}function b(t,n){const e=t.b-p;return n*=Math.abs(e),{a:p,b:t.b,d:e,duration:n,start:t.start,end:t.start+n,group:t.group}}function y(o){const{delay:l=0,duration:c=300,easing:s=n,tick:y=t,css:$}=r||ct,w={start:a()+l,b:o};o||(w.group=nt,nt.r+=1),h||m?m=w:($&&(v(),g=q(e,p,o,c,l,s,$)),o&&y(0,1),h=b(w,c),W((()=>Z(e,o,"start"))),function(t){let n;0===d.size&&u(f),new Promise((e=>{d.add(n={c:t,f:e})}))}((t=>{if(m&&t>m.start&&(h=b(m,c),m=null,Z(e,h.b,"start"),$&&(v(),g=q(e,p,h.b,h.duration,0,s,r.css))),h)if(t>=h.end)y(p=h.b,1-p),Z(e,h.b,"end"),m||(h.b?v():--h.group.r||i(h.group.c)),h=null;else if(t>=h.start){const n=t-h.start;p=h.a+h.d*s(n/h.duration),y(p,1-p)}return!(!h&&!m)})))}return{run(t){c(r)?(Q||(Q=Promise.resolve(),Q.then((()=>{Q=null}))),Q).then((()=>{r=r(),y(t)})):y(t)},end(){v(),h=m=null}}}function rt(t,n){const e={},o={},l={$$scope:1};let i=t.length;for(;i--;){const c=t[i],s=n[i];if(s){for(const t in c)t in s||(o[t]=1);for(const t in s)l[t]||(e[t]=s[t],l[t]=1);t[i]=s}else for(const t in c)l[t]=1}for(const t in o)t in e||(e[t]=void 0);return e}function at(t){return"object"==typeof t&&null!==t?t:{}}function ut(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}function dt(t){t&&t.c()}function ft(t,n,e){const{fragment:l,on_mount:s,on_destroy:r,after_update:a}=t.$$;l&&l.m(n,e),W((()=>{const n=s.map(o).filter(c);r?r.push(...n):i(n),t.$$.on_mount=[]})),a.forEach(W)}function pt(t,n){const e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function ht(n,e,o,c,s,r,a=[-1]){const u=M;O(n);const d=e.props||{},f=n.$$={fragment:null,ctx:null,props:r,update:t,not_equal:s,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:l(),dirty:a,skip_bound:!1};let p=!1;if(f.ctx=o?o(n,d,((t,e,...o)=>{const l=o.length?o[0]:e;return f.ctx&&s(f.ctx[t],f.ctx[t]=l)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](l),p&&function(t,n){-1===t.$$.dirty[0]&&(D.push(t),F(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}(n,t)),e})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!c&&c(f.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);f.fragment&&f.fragment.l(t),t.forEach(m)}else f.fragment&&f.fragment.c();e.intro&&lt(n.$$.fragment),ft(n,e.target,e.anchor),J()}O(u)}class mt{$destroy(){pt(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function gt(t,{delay:e=0,duration:o=400,easing:l=n}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:o,easing:l,css:t=>"opacity: "+t*i}}function vt(t){if(!t)throw Error("Parameter args is required");if(!t.component==!t.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(t.component&&(t.asyncComponent=()=>Promise.resolve(t.component)),"function"!=typeof t.asyncComponent)throw Error("Parameter asyncComponent must be a function");if(t.conditions){Array.isArray(t.conditions)||(t.conditions=[t.conditions]);for(let n=0;n<t.conditions.length;n++)if(!t.conditions[n]||"function"!=typeof t.conditions[n])throw Error("Invalid parameter conditions["+n+"]")}t.loadingComponent&&(t.asyncComponent.loading=t.loadingComponent,t.asyncComponent.loadingParams=t.loadingParams||void 0);return{component:t.asyncComponent,userData:t.userData,conditions:t.conditions&&t.conditions.length?t.conditions:void 0,props:t.props&&Object.keys(t.props).length?t.props:{},_sveltesparouter:!0}}const bt=[];function yt(t,n){return{subscribe:$t(t,n).subscribe}}function $t(n,e=t){let o;const l=[];function i(t){if(s(n,t)&&(n=t,o)){const t=!bt.length;for(let t=0;t<l.length;t+=1){const e=l[t];e[1](),bt.push(e,n)}if(t){for(let t=0;t<bt.length;t+=2)bt[t][0](bt[t+1]);bt.length=0}}}return{set:i,update:function(t){i(t(n))},subscribe:function(c,s=t){const r=[c,s];return l.push(r),1===l.length&&(o=e(i)||t),c(n),()=>{const t=l.indexOf(r);-1!==t&&l.splice(t,1),0===l.length&&(o(),o=null)}}}}function wt(n,e,o){const l=!Array.isArray(n),s=l?[n]:n,r=e.length<2;return yt(o,(n=>{let o=!1;const a=[];let u=0,d=t;const f=()=>{if(u)return;d();const o=e(l?a[0]:a,n);r?n(o):d=c(o)?o:t},p=s.map(((n,e)=>function(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}(n,(t=>{a[e]=t,u&=~(1<<e),o&&f()}),(()=>{u|=1<<e}))));return o=!0,f(),function(){i(p),d()}}))}function xt(t){let n,o,l;const i=[t[2]];var c=t[0];function s(t){let n={};for(let t=0;t<i.length;t+=1)n=e(n,i[t]);return{props:n}}return c&&(n=new c(s()),n.$on("routeEvent",t[7])),{c(){n&&dt(n.$$.fragment),o=w()},m(t,e){n&&ft(n,t,e),h(t,o,e),l=!0},p(t,e){const l=4&e?rt(i,[at(t[2])]):{};if(c!==(c=t[0])){if(n){et();const t=n;it(t.$$.fragment,1,0,(()=>{pt(t,1)})),ot()}c?(n=new c(s()),n.$on("routeEvent",t[7]),dt(n.$$.fragment),lt(n.$$.fragment,1),ft(n,o.parentNode,o)):n=null}else c&&n.$set(l)},i(t){l||(n&&lt(n.$$.fragment,t),l=!0)},o(t){n&&it(n.$$.fragment,t),l=!1},d(t){t&&m(o),n&&pt(n,t)}}}function _t(t){let n,o,l;const i=[{params:t[1]},t[2]];var c=t[0];function s(t){let n={};for(let t=0;t<i.length;t+=1)n=e(n,i[t]);return{props:n}}return c&&(n=new c(s()),n.$on("routeEvent",t[6])),{c(){n&&dt(n.$$.fragment),o=w()},m(t,e){n&&ft(n,t,e),h(t,o,e),l=!0},p(t,e){const l=6&e?rt(i,[2&e&&{params:t[1]},4&e&&at(t[2])]):{};if(c!==(c=t[0])){if(n){et();const t=n;it(t.$$.fragment,1,0,(()=>{pt(t,1)})),ot()}c?(n=new c(s()),n.$on("routeEvent",t[6]),dt(n.$$.fragment),lt(n.$$.fragment,1),ft(n,o.parentNode,o)):n=null}else c&&n.$set(l)},i(t){l||(n&&lt(n.$$.fragment,t),l=!0)},o(t){n&&it(n.$$.fragment,t),l=!1},d(t){t&&m(o),n&&pt(n,t)}}}function kt(t){let n,e,o,l;const i=[_t,xt],c=[];function s(t,n){return t[1]?0:1}return n=s(t),e=c[n]=i[n](t),{c(){e.c(),o=w()},m(t,e){c[n].m(t,e),h(t,o,e),l=!0},p(t,[l]){let r=n;n=s(t),n===r?c[n].p(t,l):(et(),it(c[r],1,1,(()=>{c[r]=null})),ot(),e=c[n],e?e.p(t,l):(e=c[n]=i[n](t),e.c()),lt(e,1),e.m(o.parentNode,o))},i(t){l||(lt(e),l=!0)},o(t){it(e),l=!1},d(t){c[n].d(t),t&&m(o)}}}function Ct(){const t=window.location.href.indexOf("#/");let n=t>-1?window.location.href.substr(t+1):"/";const e=n.indexOf("?");let o="";return e>-1&&(o=n.substr(e+1),n=n.substr(0,e)),{location:n,querystring:o}}const Et=yt(null,(function(t){t(Ct());const n=()=>{t(Ct())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}}));wt(Et,(t=>t.location)),wt(Et,(t=>t.querystring));function Lt(t,n,e){let{routes:o={}}=n,{prefix:l=""}=n,{restoreScrollState:i=!1}=n;class c{constructor(t,n){if(!n||"function"!=typeof n&&("object"!=typeof n||!0!==n._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:e,keys:o}=function(t,n){if(t instanceof RegExp)return{keys:!1,pattern:t};var e,o,l,i,c=[],s="",r=t.split("/");for(r[0]||r.shift();l=r.shift();)"*"===(e=l[0])?(c.push("wild"),s+="/(.*)"):":"===e?(o=l.indexOf("?",1),i=l.indexOf(".",1),c.push(l.substring(1,~o?o:~i?i:l.length)),s+=~o&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(s+=(~o?"?":"")+"\\"+l.substring(i))):s+="/"+l;return{keys:c,pattern:new RegExp("^"+s+(n?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof n&&!0===n._sveltesparouter?(this.component=n.component,this.conditions=n.conditions||[],this.userData=n.userData,this.props=n.props||{}):(this.component=()=>Promise.resolve(n),this.conditions=[],this.props={}),this._pattern=e,this._keys=o}match(t){if(l)if("string"==typeof l){if(!t.startsWith(l))return null;t=t.substr(l.length)||"/"}else if(l instanceof RegExp){const n=t.match(l);if(!n||!n[0])return null;t=t.substr(n[0].length)||"/"}const n=this._pattern.exec(t);if(null===n)return null;if(!1===this._keys)return n;const e={};let o=0;for(;o<this._keys.length;){try{e[this._keys[o]]=decodeURIComponent(n[o+1]||"")||null}catch(t){e[this._keys[o]]=null}o++}return e}async checkConditions(t){for(let n=0;n<this.conditions.length;n++)if(!await this.conditions[n](t))return!1;return!0}}const s=[];o instanceof Map?o.forEach(((t,n)=>{s.push(new c(n,t))})):Object.keys(o).forEach((t=>{s.push(new c(t,o[t]))}));let r=null,a=null,u={};const d=function(){const t=I();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const l=z(n,e);o.slice().forEach((n=>{n.call(t,l)}))}}}();async function f(t,n){await(F(),U),d(t,n)}let p=null;var h;i&&(window.addEventListener("popstate",(t=>{p=t.state&&t.state.scrollY?t.state:null})),h=()=>{p?window.scrollTo(p.scrollX,p.scrollY):window.scrollTo(0,0)},I().$$.after_update.push(h));let m=null,g=null;return Et.subscribe((async t=>{m=t;let n=0;for(;n<s.length;){const o=s[n].match(t.location);if(!o){n++;continue}const l={route:s[n].path,location:t.location,querystring:t.querystring,userData:s[n].userData};if(!await s[n].checkConditions(l))return e(0,r=null),g=null,void f("conditionsFailed",l);f("routeLoading",Object.assign({},l));const i=s[n].component;if(g!=i){i.loading?(e(0,r=i.loading),g=i,e(1,a=i.loadingParams),e(2,u={}),f("routeLoaded",Object.assign({},l,{component:r,name:r.name}))):(e(0,r=null),g=null);const n=await i();if(t!=m)return;e(0,r=n&&n.default||n),g=i}return o&&"object"==typeof o&&Object.keys(o).length?e(1,a=o):e(1,a=null),e(2,u=s[n].props),void f("routeLoaded",Object.assign({},l,{component:r,name:r.name}))}e(0,r=null),g=null})),t.$$set=t=>{"routes"in t&&e(3,o=t.routes),"prefix"in t&&e(4,l=t.prefix),"restoreScrollState"in t&&e(5,i=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=i?"manual":"auto")},[r,a,u,o,l,i,function(n){N(t,n)},function(n){N(t,n)}]}class jt extends mt{constructor(t){super(),ht(this,t,Lt,kt,s,{routes:3,prefix:4,restoreScrollState:5})}}function zt(n){let e,o,l;return{c(){e=v("div"),e.innerHTML='<div class="col-6"><h4>Dashboard</h4></div> \n<div class="col-6 text-right"></div>',o=$(),l=v("div"),l.textContent="Choose a category from the left",_(e,"class","row topnav"),_(l,"class","content")},m(t,n){h(t,e,n),h(t,o,n),h(t,l,n)},p:t,i:t,o:t,d(t){t&&m(e),t&&m(o),t&&m(l)}}}function St(t,n,e){let{data:o}=n;return t.$$set=t=>{"data"in t&&e(0,o=t.data)},[o]}class Mt extends mt{constructor(t){super(),ht(this,t,St,zt,s,{data:0})}}function Tt(t,n,e){const o=t.slice();return o[12]=n[e],o}function qt(t){let n,e;function o(t,n){return""==t[12].title?It:Ot}let l=o(t),i=l(t);return{c(){n=v("a"),i.c(),_(n,"href",e="/#/edit/"+t[0]+"/"+t[12].id)},m(t,e){h(t,n,e),i.m(n,null)},p(t,c){l===(l=o(t))&&i?i.p(t,c):(i.d(1),i=l(t),i&&(i.c(),i.m(n,null))),3&c&&e!==(e="/#/edit/"+t[0]+"/"+t[12].id)&&_(n,"href",e)},d(t){t&&m(n),i.d()}}}function At(t){let n,e,o,l=t[12].title+"";return{c(){n=v("a"),e=y(l),_(n,"href",o="/#/collections/"+t[12].id)},m(t,o){h(t,n,o),p(n,e)},p(t,i){2&i&&l!==(l=t[12].title+"")&&k(e,l),2&i&&o!==(o="/#/collections/"+t[12].id)&&_(n,"href",o)},d(t){t&&m(n)}}}function Ot(t){let n,e=t[12].title+"";return{c(){n=y(e)},m(t,e){h(t,n,e)},p(t,o){2&o&&e!==(e=t[12].title+"")&&k(n,e)},d(t){t&&m(n)}}}function It(n){let e;return{c(){e=y("Untitled")},m(t,n){h(t,e,n)},p:t,d(t){t&&m(e)}}}function Ht(t){let n,e,o;function l(){return t[9](t[12])}return{c(){n=v("button"),n.innerHTML='<i class="bi bi-trash"></i>',_(n,"class","btn btn-outline-secondary")},m(t,i){h(t,n,i),e||(o=x(n,"click",l),e=!0)},p(n,e){t=n},d(t){t&&m(n),e=!1,o()}}}function Nt(t){let n,e,o,l,i,c;function s(t,n){return"collections"==t[0]?At:qt}let r=s(t),a=r(t),u="collections"!==t[0]&&Ht(t);return{c(){n=v("li"),e=v("div"),o=v("div"),a.c(),l=$(),i=v("div"),u&&u.c(),c=$(),_(o,"class","col-6 text-truncate d-flex align-items-center"),_(i,"class","col-6 text-right"),_(e,"class","row"),_(n,"class","list-group-item")},m(t,s){h(t,n,s),p(n,e),p(e,o),a.m(o,null),p(e,l),p(e,i),u&&u.m(i,null),p(n,c)},p(t,n){r===(r=s(t))&&a?a.p(t,n):(a.d(1),a=r(t),a&&(a.c(),a.m(o,null))),"collections"!==t[0]?u?u.p(t,n):(u=Ht(t),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},d(t){t&&m(n),a.d(),u&&u.d()}}}function Dt(t){let n,e,o,l,c,s,r,a,u,d,f,g,b,y,w,k,C,E,L,j,z,S,M=t[3]&&Rt(t);return{c(){n=v("div"),e=v("div"),o=v("div"),l=v("div"),c=v("div"),s=v("h5"),s.textContent="Add Collection",r=$(),a=v("button"),u=v("span"),u.textContent="×",d=$(),f=v("div"),M&&M.c(),g=$(),b=v("b"),b.textContent="Collection Name",y=$(),w=v("input"),k=$(),C=v("div"),C.textContent="Plural, lowercase, no spaces (e.g. 'entries', 'pages')",E=$(),L=v("div"),j=v("button"),j.textContent="Add Collection",_(s,"class","modal-title"),_(u,"aria-hidden","true"),_(a,"type","button"),_(a,"class","close"),_(a,"data-dismiss","modal"),_(a,"aria-label","Close"),_(c,"class","modal-header"),_(w,"type","text"),_(w,"class","form-control"),_(w,"id","coll-title"),_(C,"class","description-sub"),_(f,"class","modal-body"),_(j,"type","button"),_(j,"class","btn btn-primary"),_(L,"class","modal-footer"),_(l,"class","modal-content"),_(o,"class","modal-dialog"),_(o,"role","document"),_(e,"class","modal"),_(e,"tabindex","-1"),_(e,"role","dialog"),_(n,"class","backdrop")},m(i,m){h(i,n,m),p(n,e),p(e,o),p(o,l),p(l,c),p(c,s),p(c,r),p(c,a),p(a,u),p(l,d),p(l,f),M&&M.m(f,null),p(f,g),p(f,b),p(f,y),p(f,w),p(f,k),p(f,C),p(l,E),p(l,L),p(L,j),z||(S=[x(u,"click",t[10]),x(w,"keyup",t[11]),x(j,"click",t[6])],z=!0)},p(t,n){t[3]?M?M.p(t,n):(M=Rt(t),M.c(),M.m(f,g)):M&&(M.d(1),M=null)},d(t){t&&m(n),M&&M.d(),z=!1,i(S)}}}function Rt(t){let n,e;return{c(){n=v("div"),e=y(t[3]),_(n,"class","alert alert-danger")},m(t,o){h(t,n,o),p(n,e)},p(t,n){8&n&&k(e,t[3])},d(t){t&&m(n)}}}function Pt(n){let e,o,l,i,c,s,r,a,u,d,f,b,C,E,L=n[1],j=[];for(let t=0;t<L.length;t+=1)j[t]=Nt(Tt(n,L,t));let z=n[2]&&Dt(n);return{c(){e=v("div"),o=v("div"),l=v("h4"),i=y(n[0]),c=$(),s=v("div"),r=v("button"),r.textContent="Add",a=$(),u=v("div"),d=v("ul");for(let t=0;t<j.length;t+=1)j[t].c();f=$(),z&&z.c(),b=w(),_(o,"class","col-6"),_(r,"class","btn btn-dark btn-add"),_(s,"class","col-6 text-right"),_(e,"class","row topnav"),_(d,"class","list-group entries-list"),_(u,"class","content")},m(t,m){h(t,e,m),p(e,o),p(o,l),p(l,i),p(e,c),p(e,s),p(s,r),h(t,a,m),h(t,u,m),p(u,d);for(let t=0;t<j.length;t+=1)j[t].m(d,null);h(t,f,m),z&&z.m(t,m),h(t,b,m),C||(E=x(r,"click",n[4]),C=!0)},p(t,[n]){if(1&n&&k(i,t[0]),35&n){let e;for(L=t[1],e=0;e<L.length;e+=1){const o=Tt(t,L,e);j[e]?j[e].p(o,n):(j[e]=Nt(o),j[e].c(),j[e].m(d,null))}for(;e<j.length;e+=1)j[e].d(1);j.length=L.length}t[2]?z?z.p(t,n):(z=Dt(t),z.c(),z.m(b.parentNode,b)):z&&(z.d(1),z=null)},i:t,o:t,d(t){t&&m(e),t&&m(a),t&&m(u),g(j,t),t&&m(f),z&&z.d(t),t&&m(b),C=!1,E()}}}function Vt(){let t=document.querySelector("#coll-title"),n=t.value.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"_").replace(/^-+/,"").replace(/-+$/,"");return t.value=n,n}function Ut(t,n,e){let{params:o}=n,{data:l}=n,i=!1,c=!1,s=!1,r=!1;function a(t){confirm("Are you sure you want to delete this item?")&&(e(7,l[i]=l[i].filter((n=>n.id!==t)),l),e(7,l),e(8,o),e(0,i))}return t.$$set=t=>{"params"in t&&e(8,o=t.params),"data"in t&&e(7,l=t.data)},t.$$.update=()=>{385&t.$$.dirty&&o.cat&&(e(0,i=o.cat),i in l||e(7,l[i]=[],l),e(1,c=l[i]))},[i,c,s,r,function(){if("collections"==i)e(2,s=!0);else{let t={};t.id=Date.now(),t.title="",t.slug="",l[i].unshift(t),window.location="/#/edit/"+i+"/"+t.id}},a,function(){let t=Vt();if(t.length<3)e(3,r="Collection name should be at least 3 characters long");else if(t in l)e(3,r="Collection already exists");else{let n={};n.id=Date.now(),n.title=pluralize.plural(t),n.singular=pluralize.singular(t),n.fields=[],l.collections.push(n),e(7,l[t]=[],l),window.renderData(l),window.location="/#/collections/"+n.id}},l,o,t=>a(t.id),()=>e(2,s=!1),()=>Vt()]}class Bt extends mt{constructor(t){super(),ht(this,t,Ut,Pt,s,{params:8,data:7})}}function Ft(n){let e,o,l;return{c(){e=v("textarea"),_(e,"id",o="mde-"+n[1]),e.value=l=Wt(n[0])},m(t,n){h(t,e,n)},p(t,[n]){2&n&&o!==(o="mde-"+t[1])&&_(e,"id",o),1&n&&l!==(l=Wt(t[0]))&&(e.value=l)},i:t,o:t,d(t){t&&m(e)}}}function Wt(t){return void 0===t&&(t=""),t}function Gt(t,n,e){let{key:o}=n,{html:l}=n,i=!1;var c;return H((()=>{i=new EasyMDE({element:document.getElementById("mde-"+o)}),i.codemirror.on("change",(function(){e(0,l=i.value())}))})),c=()=>{i&&null!=i&&(i.toTextArea(),i=null)},I().$$.on_destroy.push(c),t.$$set=t=>{"key"in t&&e(1,o=t.key),"html"in t&&e(0,l=t.html)},[l,o]}class Yt extends mt{constructor(t){super(),ht(this,t,Gt,Ft,s,{key:1,html:0})}}function Xt(n){let e,o,l;return{c(){e=v("textarea"),_(e,"class","form-control")},m(t,i){h(t,e,i),C(e,n[0]),o||(l=x(e,"input",n[1]),o=!0)},p(t,[n]){1&n&&C(e,t[0])},i:t,o:t,d(t){t&&m(e),o=!1,l()}}}function Jt(t,n,e){let{val:o}=n;return t.$$set=t=>{"val"in t&&e(0,o=t.val)},[o,function(){o=this.value,e(0,o)}]}class Kt extends mt{constructor(t){super(),ht(this,t,Jt,Xt,s,{val:0})}}function Qt(t,n,e){const o=t.slice();return o[11]=n[e],o[12]=n,o[13]=e,o}function Zt(t){let n,e,o;return{c(){n=b("svg"),e=b("path"),o=b("path"),_(e,"fill-rule","evenodd"),_(e,"d","M12.002 4h-10a1 1 0 0 0-1 1v8l2.646-2.354a.5.5 0 0 1 .63-.062l2.66 1.773 3.71-3.71a.5.5 0 0 1 .577-.094l1.777 1.947V5a1 1 0 0 0-1-1zm-10-1a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-10zm4 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"),_(o,"fill-rule","evenodd"),_(o,"d","M4 2h10a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1v1a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2h1a1 1 0 0 1 1-1z"),_(n,"width","1em"),_(n,"height","1em"),_(n,"viewBox","0 0 16 16"),_(n,"class","bi bi-images svelte-ydwqzg"),_(n,"fill","currentColor"),_(n,"xmlns","http://www.w3.org/2000/svg")},m(t,l){h(t,n,l),p(n,e),p(n,o)},d(t){t&&m(n)}}}function tn(t){let n;return{c(){n=v("span"),_(n,"class","spinner-border spinner-border-sm"),_(n,"role","status"),_(n,"aria-hidden","true")},m(t,e){h(t,n,e)},d(t){t&&m(n)}}}function nn(t){let n,e=t[0][t[1]],o=[];for(let n=0;n<e.length;n+=1)o[n]=en(Qt(t,e,n));return{c(){n=v("ul");for(let t=0;t<o.length;t+=1)o[t].c();_(n,"class","list-group")},m(t,e){h(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,l){if(11&l){let i;for(e=t[0][t[1]],i=0;i<e.length;i+=1){const c=Qt(t,e,i);o[i]?o[i].p(c,l):(o[i]=en(c),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=e.length}},d(t){t&&m(n),g(o,t)}}}function en(t){let n,e,o,l,c,s,r,a,u,d,f,g,b,y,w,k=window.config.imgTitle&&function(t){let n,e,o;function l(){t[8].call(n,t[13])}return{c(){n=v("input"),_(n,"type","text"),_(n,"class","form-control"),_(n,"placeholder",window.config.imgTitle)},m(i,c){h(i,n,c),C(n,t[0][t[1]][t[13]].title),e||(o=x(n,"input",l),e=!0)},p(e,o){t=e,3&o&&n.value!==t[0][t[1]][t[13]].title&&C(n,t[0][t[1]][t[13]].title)},d(t){t&&m(n),e=!1,o()}}}(t);function L(){return t[9](t[13])}function j(){return t[10](t[13])}return{c(){n=v("li"),e=v("div"),o=v("div"),l=v("div"),c=$(),s=v("div"),k&&k.c(),r=$(),a=v("div"),u=v("div"),d=v("button"),d.innerHTML='<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-caret-down svelte-ydwqzg" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3.204 5L8 10.481 12.796 5H3.204zm-.753.659l4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"></path></svg>',f=$(),g=v("button"),g.innerHTML='<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-trash svelte-ydwqzg" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"></path><path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"></path></svg>',b=$(),_(l,"class","box svelte-ydwqzg"),E(l,"background-image","url("+window.config.imgPath+t[11].filename+")"),_(o,"class","col-md-1"),_(s,"class","col-md-5"),_(d,"class","btn btn-outline-secondary svelte-ydwqzg"),_(g,"class","btn btn-outline-secondary svelte-ydwqzg"),_(u,"class","btn-group float-right"),_(a,"class","col-md-6"),_(e,"class","row svelte-ydwqzg"),_(n,"class","list-group-item svelte-ydwqzg")},m(t,i){h(t,n,i),p(n,e),p(e,o),p(o,l),p(e,c),p(e,s),k&&k.m(s,null),p(e,r),p(e,a),p(a,u),p(u,d),p(u,f),p(u,g),p(n,b),y||(w=[x(d,"click",L),x(g,"click",j)],y=!0)},p(n,e){t=n,3&e&&E(l,"background-image","url("+window.config.imgPath+t[11].filename+")"),window.config.imgTitle&&k.p(t,e)},d(t){t&&m(n),k&&k.d(),y=!1,i(w)}}}function on(n){let e,o,l,i,c,s,r,a,u;function d(t,n){return t[2]?tn:Zt}let f=d(n),g=f(n),b=n[0][n[1]].length>0&&nn(n);return{c(){e=v("input"),o=$(),l=v("button"),g.c(),i=y("\n\n Choose Image"),c=$(),b&&b.c(),s=$(),r=v("br"),_(e,"type","file"),_(e,"id","fileInput"),_(e,"class","fileInput svelte-ydwqzg"),_(e,"accept","image/*"),_(e,"data-name",n[1]),_(l,"class","btn btn-outline-secondary svelte-ydwqzg")},m(t,d){h(t,e,d),h(t,o,d),h(t,l,d),g.m(l,null),p(l,i),h(t,c,d),b&&b.m(t,d),h(t,s,d),h(t,r,d),a||(u=x(l,"click",n[7]),a=!0)},p(t,[n]){2&n&&_(e,"data-name",t[1]),f!==(f=d(t))&&(g.d(1),g=f(t),g&&(g.c(),g.m(l,i))),t[0][t[1]].length>0?b?b.p(t,n):(b=nn(t),b.c(),b.m(s.parentNode,s)):b&&(b.d(1),b=null)},i:t,o:t,d(t){t&&m(e),t&&m(o),t&&m(l),g.d(),t&&m(c),b&&b.d(t),t&&m(s),t&&m(r),a=!1,u()}}}function ln(t,n,e){let{data:o}=n,{cat:l}=n,{index:i}=n,{key:c}=n,{item:s}=n,r=!1;function a(t,n){var o=n+1;void 0!==s[t][o]&&(e(0,s[t]=function(t,n,e){if(e===n)return t;for(var o=t[n],l=e<n?-1:1,i=n;i!=e;i+=l)t[i]=t[i+l];return t[e]=o,t}(s[t],n,n+1),s),e(0,s))}s[c]||(s[c]=[]),H((async()=>{document.getElementById("fileInput").addEventListener("change",(function(t){if(e(2,r=!0),void 0!==config.imgWidth)var n=config.imgWidth;else n=800;var o=new Image;o.onload=function(){var t=document.createElement("canvas"),l=t.getContext("2d"),i=document.createElement("canvas"),a=i.getContext("2d");t.width=n,t.height=t.width*o.height/o.width;var u={width:Math.floor(.5*o.width),height:Math.floor(.5*o.height)};for(i.width=u.width,i.height=u.height,a.drawImage(o,0,0,u.width,u.height);.5*u.width>n;)u={width:Math.floor(.5*u.width),height:Math.floor(.5*u.height)},a.drawImage(i,0,0,2*u.width,2*u.height,0,0,u.width,u.height);l.drawImage(i,0,0,u.width,u.height,0,0,t.width,t.height);var d=t.toDataURL("image/jpeg");console.log(d);let f={};f.path="img/"+Date.now()+".jpg",f.type="img",f.content=d,call_api("github/set-data",f).then((function(t){if(t.ok){console.log("Saved");let t={filename:f.path};s[c].push(t),e(0,s),e(2,r=!1)}else console.log("Error saving"),setTimeout((function(){e(2,r=!1)}),1e3)})),URL.revokeObjectURL(o.src)},o.src=URL.createObjectURL(t.target.files[0])}))}));return t.$$set=t=>{"data"in t&&e(4,o=t.data),"cat"in t&&e(5,l=t.cat),"index"in t&&e(6,i=t.index),"key"in t&&e(1,c=t.key),"item"in t&&e(0,s=t.item)},[s,c,r,a,o,l,i,()=>{document.querySelector("#fileInput").click()},function(t){s[c][t].title=this.value,e(0,s),e(1,c)},t=>a(c,t),t=>function(t,n){console.log(t)}(c)]}class cn extends mt{constructor(t){super(),ht(this,t,ln,on,s,{data:4,cat:5,index:6,key:1,item:0})}}function sn(t,n,e){const o=t.slice();return o[21]=n[e],o[22]=n,o[23]=e,o}function rn(t){let n,e,o,l,c,s,r,a,u,d,f,b,w,E,L,j,z,S,M=t[3].singular+"",T=t[4]&&an(),q=t[3].fields,A=[];for(let n=0;n<q.length;n+=1)A[n]=mn(sn(t,q,n));const O=t=>it(A[t],1,1,(()=>{A[t]=null}));return{c(){n=v("div"),e=v("div"),o=v("h4"),l=y("Edit "),c=y(M),s=$(),r=v("div"),a=v("button"),T&&T.c(),u=y("  Save"),d=$(),f=v("div"),b=v("b"),b.textContent="Title",w=$(),E=v("input"),L=$();for(let t=0;t<A.length;t+=1)A[t].c();_(e,"class","col-6"),_(a,"class","btn btn-dark btn-add"),_(r,"class","col-6 text-right"),_(n,"class","row topnav"),_(E,"type","text"),_(E,"class","form-control"),_(f,"class","content")},m(i,m){h(i,n,m),p(n,e),p(e,o),p(o,l),p(o,c),p(n,s),p(n,r),p(r,a),T&&T.m(a,null),p(a,u),h(i,d,m),h(i,f,m),p(f,b),p(f,w),p(f,E),C(E,t[0][t[1]][t[2]].title),p(f,L);for(let t=0;t<A.length;t+=1)A[t].m(f,null);j=!0,z||(S=[x(a,"click",t[5]),x(E,"input",t[8])],z=!0)},p(t,n){if((!j||8&n)&&M!==(M=t[3].singular+"")&&k(c,M),t[4]?T||(T=an(),T.c(),T.m(a,u)):T&&(T.d(1),T=null),7&n&&E.value!==t[0][t[1]][t[2]].title&&C(E,t[0][t[1]][t[2]].title),15&n){let e;for(q=t[3].fields,e=0;e<q.length;e+=1){const o=sn(t,q,e);A[e]?(A[e].p(o,n),lt(A[e],1)):(A[e]=mn(o),A[e].c(),lt(A[e],1),A[e].m(f,null))}for(et(),e=q.length;e<A.length;e+=1)O(e);ot()}},i(t){if(!j){for(let t=0;t<q.length;t+=1)lt(A[t]);j=!0}},o(t){A=A.filter(Boolean);for(let t=0;t<A.length;t+=1)it(A[t]);j=!1},d(t){t&&m(n),T&&T.d(),t&&m(d),t&&m(f),g(A,t),z=!1,i(S)}}}function an(t){let n;return{c(){n=v("span"),_(n,"class","spinner-border spinner-border-sm"),_(n,"role","status"),_(n,"aria-hidden","true")},m(t,e){h(t,n,e)},d(t){t&&m(n)}}}function un(t){let n,e,o=t[21].description+"";return{c(){n=v("div"),e=y(o),_(n,"class","description")},m(t,o){h(t,n,o),p(n,e)},p(t,n){8&n&&o!==(o=t[21].description+"")&&k(e,o)},d(t){t&&m(n)}}}function dn(t){let n,e,o;function l(){t[9].call(n,t[21])}return{c(){n=v("input"),_(n,"type","text"),_(n,"class","form-control")},m(i,c){h(i,n,c),C(n,t[0][t[1]][t[2]][t[21].title]),e||(o=x(n,"input",l),e=!0)},p(e,o){t=e,15&o&&n.value!==t[0][t[1]][t[2]][t[21].title]&&C(n,t[0][t[1]][t[2]][t[21].title])},d(t){t&&m(n),e=!1,o()}}}function fn(t){let n,e,o;function l(n){t[10].call(null,n,t[21])}let i={};return void 0!==t[0][t[1]][t[2]][t[21].title]&&(i.val=t[0][t[1]][t[2]][t[21].title]),n=new Kt({props:i}),R.push((()=>ut(n,"val",l))),{c(){dt(n.$$.fragment)},m(t,e){ft(n,t,e),o=!0},p(o,l){t=o;const i={};!e&&15&l&&(e=!0,i.val=t[0][t[1]][t[2]][t[21].title],G((()=>e=!1))),n.$set(i)},i(t){o||(lt(n.$$.fragment,t),o=!0)},o(t){it(n.$$.fragment,t),o=!1},d(t){pt(n,t)}}}function pn(t){let n,e,o,l;function i(n){t[11].call(null,n,t[21])}function c(n){t[12].call(null,n,t[21])}let s={};return void 0!==t[21].title&&(s.key=t[21].title),void 0!==t[0][t[1]][t[2]][t[21].title]&&(s.html=t[0][t[1]][t[2]][t[21].title]),n=new Yt({props:s}),R.push((()=>ut(n,"key",i))),R.push((()=>ut(n,"html",c))),{c(){dt(n.$$.fragment)},m(t,e){ft(n,t,e),l=!0},p(l,i){t=l;const c={};!e&&8&i&&(e=!0,c.key=t[21].title,G((()=>e=!1))),!o&&15&i&&(o=!0,c.html=t[0][t[1]][t[2]][t[21].title],G((()=>o=!1))),n.$set(c)},i(t){l||(lt(n.$$.fragment,t),l=!0)},o(t){it(n.$$.fragment,t),l=!1},d(t){pt(n,t)}}}function hn(t){let n,e,o,l,i,c,s;function r(n){t[13].call(null,n)}function a(n){t[14].call(null,n)}function u(n){t[15].call(null,n)}function d(n){t[16].call(null,n,t[21])}function f(n){t[17].call(null,n)}let p={};return void 0!==t[0]&&(p.data=t[0]),void 0!==t[1]&&(p.cat=t[1]),void 0!==t[2]&&(p.index=t[2]),void 0!==t[21].title&&(p.key=t[21].title),void 0!==t[0][t[1]][t[2]]&&(p.item=t[0][t[1]][t[2]]),n=new cn({props:p}),R.push((()=>ut(n,"data",r))),R.push((()=>ut(n,"cat",a))),R.push((()=>ut(n,"index",u))),R.push((()=>ut(n,"key",d))),R.push((()=>ut(n,"item",f))),{c(){dt(n.$$.fragment)},m(t,e){ft(n,t,e),s=!0},p(s,r){t=s;const a={};!e&&1&r&&(e=!0,a.data=t[0],G((()=>e=!1))),!o&&2&r&&(o=!0,a.cat=t[1],G((()=>o=!1))),!l&&4&r&&(l=!0,a.index=t[2],G((()=>l=!1))),!i&&8&r&&(i=!0,a.key=t[21].title,G((()=>i=!1))),!c&&7&r&&(c=!0,a.item=t[0][t[1]][t[2]],G((()=>c=!1))),n.$set(a)},i(t){s||(lt(n.$$.fragment,t),s=!0)},o(t){it(n.$$.fragment,t),s=!1},d(t){pt(n,t)}}}function mn(t){let n,e,o,l,i,c,s,r,a,u=t[21].title+"",d=t[21].description&&un(t),f="txt"==t[21].type&&dn(t),g="txta"==t[21].type&&fn(t),b="mde"==t[21].type&&pn(t),x="gal"==t[21].type&&hn(t);return{c(){n=v("b"),e=y(u),o=$(),d&&d.c(),l=$(),f&&f.c(),i=$(),g&&g.c(),c=$(),b&&b.c(),s=$(),x&&x.c(),r=w()},m(t,u){h(t,n,u),p(n,e),h(t,o,u),d&&d.m(t,u),h(t,l,u),f&&f.m(t,u),h(t,i,u),g&&g.m(t,u),h(t,c,u),b&&b.m(t,u),h(t,s,u),x&&x.m(t,u),h(t,r,u),a=!0},p(t,n){(!a||8&n)&&u!==(u=t[21].title+"")&&k(e,u),t[21].description?d?d.p(t,n):(d=un(t),d.c(),d.m(l.parentNode,l)):d&&(d.d(1),d=null),"txt"==t[21].type?f?f.p(t,n):(f=dn(t),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),"txta"==t[21].type?g?(g.p(t,n),8&n&&lt(g,1)):(g=fn(t),g.c(),lt(g,1),g.m(c.parentNode,c)):g&&(et(),it(g,1,1,(()=>{g=null})),ot()),"mde"==t[21].type?b?(b.p(t,n),8&n&&lt(b,1)):(b=pn(t),b.c(),lt(b,1),b.m(s.parentNode,s)):b&&(et(),it(b,1,1,(()=>{b=null})),ot()),"gal"==t[21].type?x?(x.p(t,n),8&n&&lt(x,1)):(x=hn(t),x.c(),lt(x,1),x.m(r.parentNode,r)):x&&(et(),it(x,1,1,(()=>{x=null})),ot())},i(t){a||(lt(g),lt(b),lt(x),a=!0)},o(t){it(g),it(b),it(x),a=!1},d(t){t&&m(n),t&&m(o),d&&d.d(t),t&&m(l),f&&f.d(t),t&&m(i),g&&g.d(t),t&&m(c),b&&b.d(t),t&&m(s),x&&x.d(t),t&&m(r)}}}function gn(t){let n,e,o=t[3]&&rn(t);return{c(){o&&o.c(),n=w()},m(t,l){o&&o.m(t,l),h(t,n,l),e=!0},p(t,[e]){t[3]?o?(o.p(t,e),8&e&&lt(o,1)):(o=rn(t),o.c(),lt(o,1),o.m(n.parentNode,n)):o&&(et(),it(o,1,1,(()=>{o=null})),ot())},i(t){e||(lt(o),e=!0)},o(t){it(o),e=!1},d(t){o&&o.d(t),t&&m(n)}}}function vn(t,n,e){let{params:o}=n,{data:l}=n,i=!1,c=!1,s=!1,r=!1,a=!1;return t.$$set=t=>{"params"in t&&e(6,o=t.params),"data"in t&&e(0,l=t.data)},t.$$.update=()=>{195&t.$$.dirty&&o.cat&&o.id&&(e(1,i=o.cat),e(7,c=o.id),l[i].filter((t=>t.id==c))[0],e(2,s=l[i].findIndex((t=>t.id==c))),e(3,r=l.collections.filter((t=>t.title==i))[0]))},[l,i,s,r,a,function(){void 0!==l[i][s].slug&&""!=l[i][s].slug||function(){let t=l[i][s].title.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");e(0,l[i][s].slug=t+"-"+Math.floor(999*Math.random()),l),e(0,l)}(),e(4,a=!0);let t={path:"data.json",type:"json"};t.content=l,call_api("github/set-data",t).then((function(t){t.ok?(console.log("Saved"),e(4,a=!1)):(console.log("Error saving"),setTimeout((function(){e(4,a=!1)}),1e3))}))},o,c,function(){l[i][s].title=this.value,e(0,l),e(1,i),e(6,o),e(0,l),e(7,c),e(2,s),e(6,o),e(0,l),e(1,i),e(7,c)},function(t){l[i][s][t.title]=this.value,e(0,l),e(1,i),e(6,o),e(0,l),e(7,c),e(2,s),e(6,o),e(0,l),e(1,i),e(7,c),e(3,r),e(6,o),e(0,l),e(1,i),e(7,c)},function(t,n){l[i][s][n.title]=t,e(0,l)},function(t,n){n.title=t,e(3,r),e(6,o),e(0,l),e(1,i),e(7,c)},function(t,n){l[i][s][n.title]=t,e(0,l)},function(t){l=t,e(0,l)},function(t){i=t,e(1,i),e(6,o),e(0,l),e(7,c)},function(t){s=t,e(2,s),e(6,o),e(0,l),e(1,i),e(7,c)},function(t,n){n.title=t,e(3,r),e(6,o),e(0,l),e(1,i),e(7,c)},function(t){l[i][s]=t,e(0,l)}]}class bn extends mt{constructor(t){super(),ht(this,t,vn,gn,s,{params:6,data:0})}}function yn(t,n,e){const o=t.slice();return o[19]=n[e],o[20]=n,o[21]=e,o}function $n(t){let n;return{c(){n=v("span"),_(n,"class","spinner-border spinner-border-sm"),_(n,"role","status"),_(n,"aria-hidden","true")},m(t,e){h(t,n,e)},d(t){t&&m(n)}}}function wn(t){let n,e,o,l=t[0].collections[t[1]].fields,i=[];for(let n=0;n<l.length;n+=1)i[n]=xn(yn(t,l,n));return{c(){n=v("ul"),e=v("li"),e.innerHTML='<div class="row"><div class="col-4"><input type="text" class="form-control mb-0" value="title" readonly=""/></div> \n    <div class="col-8"><div class="description mt-2">Each collection has a title field</div></div></div>',o=$();for(let t=0;t<i.length;t+=1)i[t].c();_(e,"class","list-group-item"),_(n,"class","list-group")},m(t,l){h(t,n,l),p(n,e),p(n,o);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,e){if(99&e){let o;for(l=t[0].collections[t[1]].fields,o=0;o<l.length;o+=1){const c=yn(t,l,o);i[o]?i[o].p(c,e):(i[o]=xn(c),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=l.length}},d(t){t&&m(n),g(i,t)}}}function xn(t){let n,e,o,l,c,s,r,a,u,d,f,g,b,y,w,k,E,j,z,S;function M(){t[10].call(l,t[20],t[21])}function T(){return t[11](t[21])}function q(){t[12].call(r,t[20],t[21])}function A(){t[13].call(d,t[20],t[21])}function O(){return t[14](t[19])}return{c(){n=v("li"),e=v("div"),o=v("div"),l=v("input"),c=$(),s=v("div"),r=v("input"),a=$(),u=v("div"),d=v("select"),f=v("option"),f.textContent="Text",g=v("option"),g.textContent="Textarea",b=v("option"),b.textContent="Markdown",y=v("option"),y.textContent="Gallery",w=$(),k=v("div"),E=v("button"),E.innerHTML='<i class="bi bi-trash"></i>',j=$(),_(l,"type","text"),_(l,"class","form-control mb-0"),_(l,"placeholder","field name"),_(o,"class","col-4"),_(r,"type","text"),_(r,"class","form-control mb-0"),_(r,"placeholder","field description (optional)"),_(s,"class","col-3"),f.__value="txt",f.value=f.__value,g.__value="txta",g.value=g.__value,b.__value="mde",b.value=b.__value,y.__value="gal",y.value=y.__value,_(d,"class","form-control mb-0"),void 0===t[19].type&&W(A),_(u,"class","col-3"),_(E,"class","btn btn-outline-secondary"),_(k,"class","col-2 text-right"),_(e,"class","row"),_(n,"class","list-group-item")},m(i,m){h(i,n,m),p(n,e),p(e,o),p(o,l),C(l,t[19].title),p(e,c),p(e,s),p(s,r),C(r,t[19].description),p(e,a),p(e,u),p(u,d),p(d,f),p(d,g),p(d,b),p(d,y),L(d,t[19].type),p(e,w),p(e,k),p(k,E),p(n,j),z||(S=[x(l,"input",M),x(l,"keyup",T),x(r,"input",q),x(d,"change",A),x(E,"click",O)],z=!0)},p(n,e){t=n,3&e&&l.value!==t[19].title&&C(l,t[19].title),3&e&&r.value!==t[19].description&&C(r,t[19].description),3&e&&L(d,t[19].type)},d(t){t&&m(n),z=!1,i(S)}}}function _n(n){let e,o,l,c,s,r,a,u,d,f,g,b,w,C,E,L,j,z,S,M,T=n[0].collections[n[1]].title+"",q=n[2]&&$n(),A=n[0].collections[n[1]].fields&&wn(n);return{c(){e=v("div"),o=v("div"),l=v("h4"),c=v("span"),c.textContent="Edit Collection:",s=$(),r=y(T),a=$(),u=v("div"),d=v("button"),q&&q.c(),f=y("  Save"),g=$(),b=v("div"),w=v("div"),C=v("div"),C.innerHTML='<b>Fields</b> \n    <div class="description">Fields in this collection</div>',E=$(),L=v("div"),j=v("button"),j.innerHTML='<i class="bi bi-plus-circle"></i> Add Field',z=$(),A&&A.c(),_(c,"class","medium-hide"),_(o,"class","col-6"),_(d,"class","btn btn-dark btn-add"),_(u,"class","col-6 text-right"),_(e,"class","row topnav"),_(C,"class","col-6"),_(j,"class","btn btn-outline-dark btn-add float-right"),_(L,"class","col-6 text-right"),_(w,"class","row"),_(b,"class","content")},m(t,i){h(t,e,i),p(e,o),p(o,l),p(l,c),p(l,s),p(l,r),p(e,a),p(e,u),p(u,d),q&&q.m(d,null),p(d,f),h(t,g,i),h(t,b,i),p(b,w),p(w,C),p(w,E),p(w,L),p(L,j),p(b,z),A&&A.m(b,null),S||(M=[x(d,"click",n[3]),x(j,"click",n[4])],S=!0)},p(t,[n]){3&n&&T!==(T=t[0].collections[t[1]].title+"")&&k(r,T),t[2]?q||(q=$n(),q.c(),q.m(d,f)):q&&(q.d(1),q=null),t[0].collections[t[1]].fields?A?A.p(t,n):(A=wn(t),A.c(),A.m(b,null)):A&&(A.d(1),A=null)},i:t,o:t,d(t){t&&m(e),q&&q.d(),t&&m(g),t&&m(b),A&&A.d(),S=!1,i(M)}}}function kn(t,n,e){let{params:o}=n,{data:l}=n,i=!1,c=!1,s=!1,r=!1;function a(t){confirm("Are you sure you want to delete this field?")&&(e(0,l.collections[s].fields=l.collections[s].fields.filter((n=>n.title!==t)),l),e(0,l))}function u(t){let n=l.collections[s].fields[t].title.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"_").replace(/^-+/,"").replace(/-+$/,"");e(0,l.collections[s].fields[t].title=n,l),e(0,l)}return t.$$set=t=>{"params"in t&&e(7,o=t.params),"data"in t&&e(0,l=t.data)},t.$$.update=()=>{899&t.$$.dirty&&o.id&&(e(8,i="collections"),e(9,c=o.id),l[i].filter((t=>t.id==c))[0],e(1,s=l[i].findIndex((t=>t.id==c))),l.collections.filter((t=>t.title==i))[0],l.collections[s].title)},[l,s,r,function(){e(2,r=!0);let t={path:"data.json",type:"json"};t.content=l,call_api("github/set-data",t).then((function(t){t.ok?(console.log("Saved"),e(2,r=!1)):(console.log("Error saving"),setTimeout((function(){e(2,r=!1)}),1e3))}))},function(){let t={title:"",description:"",type:"txt"};l.collections[s].fields.push(t),e(0,l)},a,u,o,i,c,function(t,n){t[n].title=this.value,e(0,l),e(1,s),e(7,o),e(0,l),e(8,i),e(9,c)},t=>u(t),function(t,n){t[n].description=this.value,e(0,l),e(1,s),e(7,o),e(0,l),e(8,i),e(9,c)},function(t,n){t[n].type=function(t){const n=t.querySelector(":checked")||t.options[0];return n&&n.__value}(this),e(0,l),e(1,s),e(7,o),e(0,l),e(8,i),e(9,c)},t=>a(t.title)]}class Cn extends mt{constructor(t){super(),ht(this,t,kn,_n,s,{params:7,data:0})}}class En extends mt{constructor(t){super(),ht(this,t,null,null,s,{})}}function Ln(t,n,e){const o=t.slice();return o[8]=n[e],o}function jn(n){let e;return{c(){e=v("div"),e.innerHTML='<img src="assets/img/rocket-planet.png"/> \n \t\t<button id="google-signin" onclick="login(&#39;google&#39;);" class="btn btn-outline-dark w-100 btn-signin"><i class="bi bi-google"></i> Sign In with Google</button> \n\t\t<button id="twitter-signin" onclick="login(&#39;twitter&#39;);" class="btn btn-outline-dark w-100 mt-2 btn-signin"><i class="bi bi-twitter"></i> Sign In with Twitter</button>',_(e,"id","log-in-screen")},m(t,n){h(t,e,n)},p:t,i:t,o:t,d(t){t&&m(e)}}}function zn(t){let n,e,o,l,c,s,r,a,u,d,f,b,y,w,k,C,E,L,z,S=t[0].collections,M=[];for(let n=0;n<S.length;n+=1)M[n]=Tn(Ln(t,S,n));return k=new jt({props:{routes:t[1]}}),{c(){n=v("div"),e=v("div"),o=v("div"),l=v("a"),l.innerHTML='<img src="assets/img/rocketlogo.png" id="logo"/>',c=$(),s=v("div"),r=v("div");for(let t=0;t<M.length;t+=1)M[t].c();a=$(),u=v("a"),u.textContent="collections",d=$(),f=v("a"),f.textContent="Log Out",b=$(),y=v("div"),w=v("div"),dt(k.$$.fragment),_(l,"href","/#/"),j(l,"selected",!1===t[2]),_(r,"id","collections-nav"),_(u,"href","/#/list/collections"),j(u,"selected","collections"===t[2]),_(f,"href","#"),_(s,"class","side-nav"),_(o,"class","side"),_(e,"class","col-md-2"),_(w,"class","main"),_(y,"class","col-md-10"),_(n,"class","row no-gutters page")},m(i,m){h(i,n,m),p(n,e),p(e,o),p(o,l),p(o,c),p(o,s),p(s,r);for(let t=0;t<M.length;t+=1)M[t].m(r,null);p(s,a),p(s,u),p(s,d),p(s,f),p(n,b),p(n,y),p(y,w),ft(k,w,null),E=!0,L||(z=[x(l,"click",t[5]),x(u,"click",t[7]),x(f,"click",t[4])],L=!0)},p(t,n){if(4&n&&j(l,"selected",!1===t[2]),5&n){let e;for(S=t[0].collections,e=0;e<S.length;e+=1){const o=Ln(t,S,e);M[e]?M[e].p(o,n):(M[e]=Tn(o),M[e].c(),M[e].m(r,null))}for(;e<M.length;e+=1)M[e].d(1);M.length=S.length}4&n&&j(u,"selected","collections"===t[2]);const e={};2&n&&(e.routes=t[1]),k.$set(e)},i(t){E||(lt(k.$$.fragment,t),W((()=>{C||(C=st(n,gt,{},!0)),C.run(1)})),E=!0)},o(t){it(k.$$.fragment,t),C||(C=st(n,gt,{},!1)),C.run(0),E=!1},d(t){t&&m(n),g(M,t),pt(k),t&&C&&C.end(),L=!1,i(z)}}}function Sn(n){let e;return{c(){e=v("div"),e.innerHTML='<img src="assets/img/rocket-planet.png"/> \n<div class="clear"></div> \n<div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div>',_(e,"id","loading"),_(e,"class","text-center")},m(t,n){h(t,e,n)},p:t,i:t,o:t,d(t){t&&m(e)}}}function Mn(t){let n,e,o,l,i,c=t[8].title+"";function s(){return t[6](t[8])}return{c(){n=v("a"),e=y(c),_(n,"href",o="/#/list/"+t[8].title),j(n,"selected",t[2]===t[8].title)},m(t,o){h(t,n,o),p(n,e),l||(i=x(n,"click",s),l=!0)},p(l,i){t=l,1&i&&c!==(c=t[8].title+"")&&k(e,c),1&i&&o!==(o="/#/list/"+t[8].title)&&_(n,"href",o),5&i&&j(n,"selected",t[2]===t[8].title)},d(t){t&&m(n),l=!1,i()}}}function Tn(t){let n,e="collections"!==t[8].title&&Mn(t);return{c(){e&&e.c(),n=w()},m(t,o){e&&e.m(t,o),h(t,n,o)},p(t,o){"collections"!==t[8].title?e?e.p(t,o):(e=Mn(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&m(n)}}}function qn(t){let n,e,o,l,i,c,s,r;const a=[Sn,zn,jn],u=[];function d(t,n){return t[3]?0:t[1]&&t[0]?1:2}return i=d(t),c=u[i]=a[i](t),{c(){n=v("link"),e=v("script"),l=$(),c.c(),s=w(),_(n,"rel","stylesheet"),_(n,"href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"),e.src!==(o="https://cdnjs.cloudflare.com/ajax/libs/pluralize/8.0.0/pluralize.min.js")&&_(e,"src","https://cdnjs.cloudflare.com/ajax/libs/pluralize/8.0.0/pluralize.min.js")},m(t,o){p(document.head,n),p(document.head,e),h(t,l,o),u[i].m(t,o),h(t,s,o),r=!0},p(t,[n]){let e=i;i=d(t),i===e?u[i].p(t,n):(et(),it(u[e],1,1,(()=>{u[e]=null})),ot(),c=u[i],c?c.p(t,n):(c=u[i]=a[i](t),c.c()),lt(c,1),c.m(s.parentNode,s))},i(t){r||(lt(c),r=!0)},o(t){it(c),r=!1},d(t){m(n),m(e),t&&m(l),u[i].d(t),t&&m(s)}}}function An(t,n,e){let o=!1,l=!1,i=!1,c=!0;H((async()=>{firebase.auth().onAuthStateChanged((async function(t){t?t.getIdToken().then((async function(t){console.log("Signed in");const n=await fetch("data.json");e(0,o=await n.json()),console.log(o),e(1,l={"/":vt({component:Mt,props:{data:o}}),"/list/:cat":vt({component:Bt,props:{data:o}}),"/edit/:cat/:id":vt({component:bn,props:{data:o}}),"/collections/:id":vt({component:Cn,props:{data:o}}),"*":En}),setTimeout((function(){e(3,c=!1)}),1e3)})):(console.log("User not signed in"),setTimeout((function(){e(3,c=!1)}),1e3))}))})),window.renderData=function(t){e(0,o=t)};return[o,l,i,c,function(){firebase.auth().signOut().then((()=>{console.log("Signed out"),e(0,o=!1),e(1,l=!1)})).catch((t=>{console.log(t)}))},()=>e(2,i=!1),t=>e(2,i=t.title),()=>e(2,i="collections")]}return new class extends mt{constructor(t){super(),ht(this,t,An,qn,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
