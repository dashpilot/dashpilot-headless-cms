var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function l(){return Object.create(null)}function i(t){t.forEach(o)}function c(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const r="undefined"!=typeof window;let a=r?()=>window.performance.now():()=>Date.now(),u=r?t=>requestAnimationFrame(t):t;const d=new Set;function f(t){d.forEach((e=>{e.c(t)||(d.delete(e),e.f())})),0!==d.size&&u(f)}function p(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function $(){return y(" ")}function w(){return y("")}function x(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function C(t,e){t.value=null==e?"":e}function E(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function L(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}function j(t,e,n){t.classList[n?"add":"remove"](e)}function z(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const S=new Set;let T,M=0;function A(t,e,n,o,l,i,c,s=0){const r=16.666/o;let a="{\n";for(let t=0;t<=1;t+=r){const o=e+(n-e)*i(t);a+=100*t+`%{${c(o,1-o)}}\n`}const u=a+`100% {${c(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${s}`,f=t.ownerDocument;S.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(v("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${d} ${o}ms linear ${l}ms 1 both`,M+=1,d}function q(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),l=n.length-o.length;l&&(t.style.animation=o.join(", "),M-=l,M||u((()=>{M||(S.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),S.clear())})))}function O(t){T=t}function I(){if(!T)throw new Error("Function called outside component initialization");return T}function H(t){I().$$.on_mount.push(t)}function N(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const D=[],R=[],P=[],V=[],U=Promise.resolve();let B=!1;function F(){B||(B=!0,U.then(J))}function W(t){P.push(t)}function G(t){V.push(t)}let Y=!1;const X=new Set;function J(){if(!Y){Y=!0;do{for(let t=0;t<D.length;t+=1){const e=D[t];O(e),K(e.$$)}for(O(null),D.length=0;R.length;)R.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];X.has(e)||(X.add(e),e())}P.length=0}while(D.length);for(;V.length;)V.pop()();B=!1,Y=!1,X.clear()}}function K(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}let Q;function Z(t,e,n){t.dispatchEvent(z(`${e?"intro":"outro"}${n}`))}const tt=new Set;let et;function nt(){et={r:0,c:[],p:et}}function ot(){et.r||i(et.c),et=et.p}function lt(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function it(t,e,n,o){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push((()=>{tt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const ct={duration:0};function st(n,o,l,s){let r=o(n,l),p=s?0:1,h=null,m=null,g=null;function v(){g&&q(n,g)}function b(t,e){const n=t.b-p;return e*=Math.abs(n),{a:p,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(o){const{delay:l=0,duration:c=300,easing:s=e,tick:y=t,css:$}=r||ct,w={start:a()+l,b:o};o||(w.group=et,et.r+=1),h||m?m=w:($&&(v(),g=A(n,p,o,c,l,s,$)),o&&y(0,1),h=b(w,c),W((()=>Z(n,o,"start"))),function(t){let e;0===d.size&&u(f),new Promise((n=>{d.add(e={c:t,f:n})}))}((t=>{if(m&&t>m.start&&(h=b(m,c),m=null,Z(n,h.b,"start"),$&&(v(),g=A(n,p,h.b,h.duration,0,s,r.css))),h)if(t>=h.end)y(p=h.b,1-p),Z(n,h.b,"end"),m||(h.b?v():--h.group.r||i(h.group.c)),h=null;else if(t>=h.start){const e=t-h.start;p=h.a+h.d*s(e/h.duration),y(p,1-p)}return!(!h&&!m)})))}return{run(t){c(r)?(Q||(Q=Promise.resolve(),Q.then((()=>{Q=null}))),Q).then((()=>{r=r(),y(t)})):y(t)},end(){v(),h=m=null}}}function rt(t,e){const n={},o={},l={$$scope:1};let i=t.length;for(;i--;){const c=t[i],s=e[i];if(s){for(const t in c)t in s||(o[t]=1);for(const t in s)l[t]||(n[t]=s[t],l[t]=1);t[i]=s}else for(const t in c)l[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function at(t){return"object"==typeof t&&null!==t?t:{}}function ut(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function dt(t){t&&t.c()}function ft(t,e,n){const{fragment:l,on_mount:s,on_destroy:r,after_update:a}=t.$$;l&&l.m(e,n),W((()=>{const e=s.map(o).filter(c);r?r.push(...e):i(e),t.$$.on_mount=[]})),a.forEach(W)}function pt(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ht(e,n,o,c,s,r,a=[-1]){const u=T;O(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:r,update:t,not_equal:s,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:l(),dirty:a,skip_bound:!1};let p=!1;if(f.ctx=o?o(e,d,((t,n,...o)=>{const l=o.length?o[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=l)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](l),p&&function(t,e){-1===t.$$.dirty[0]&&(D.push(t),F(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!c&&c(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(m)}else f.fragment&&f.fragment.c();n.intro&&lt(e.$$.fragment),ft(e,n.target,n.anchor),J()}O(u)}class mt{$destroy(){pt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function gt(t,{delay:n=0,duration:o=400,easing:l=e}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:l,css:t=>"opacity: "+t*i}}function vt(t){if(!t)throw Error("Parameter args is required");if(!t.component==!t.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(t.component&&(t.asyncComponent=()=>Promise.resolve(t.component)),"function"!=typeof t.asyncComponent)throw Error("Parameter asyncComponent must be a function");if(t.conditions){Array.isArray(t.conditions)||(t.conditions=[t.conditions]);for(let e=0;e<t.conditions.length;e++)if(!t.conditions[e]||"function"!=typeof t.conditions[e])throw Error("Invalid parameter conditions["+e+"]")}t.loadingComponent&&(t.asyncComponent.loading=t.loadingComponent,t.asyncComponent.loadingParams=t.loadingParams||void 0);return{component:t.asyncComponent,userData:t.userData,conditions:t.conditions&&t.conditions.length?t.conditions:void 0,props:t.props&&Object.keys(t.props).length?t.props:{},_sveltesparouter:!0}}const bt=[];function yt(t,e){return{subscribe:$t(t,e).subscribe}}function $t(e,n=t){let o;const l=[];function i(t){if(s(e,t)&&(e=t,o)){const t=!bt.length;for(let t=0;t<l.length;t+=1){const n=l[t];n[1](),bt.push(n,e)}if(t){for(let t=0;t<bt.length;t+=2)bt[t][0](bt[t+1]);bt.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(c,s=t){const r=[c,s];return l.push(r),1===l.length&&(o=n(i)||t),c(e),()=>{const t=l.indexOf(r);-1!==t&&l.splice(t,1),0===l.length&&(o(),o=null)}}}}function wt(e,n,o){const l=!Array.isArray(e),s=l?[e]:e,r=n.length<2;return yt(o,(e=>{let o=!1;const a=[];let u=0,d=t;const f=()=>{if(u)return;d();const o=n(l?a[0]:a,e);r?e(o):d=c(o)?o:t},p=s.map(((e,n)=>function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(e,(t=>{a[n]=t,u&=~(1<<n),o&&f()}),(()=>{u|=1<<n}))));return o=!0,f(),function(){i(p),d()}}))}function xt(t){let e,o,l;const i=[t[2]];var c=t[0];function s(t){let e={};for(let t=0;t<i.length;t+=1)e=n(e,i[t]);return{props:e}}return c&&(e=new c(s()),e.$on("routeEvent",t[7])),{c(){e&&dt(e.$$.fragment),o=w()},m(t,n){e&&ft(e,t,n),h(t,o,n),l=!0},p(t,n){const l=4&n?rt(i,[at(t[2])]):{};if(c!==(c=t[0])){if(e){nt();const t=e;it(t.$$.fragment,1,0,(()=>{pt(t,1)})),ot()}c?(e=new c(s()),e.$on("routeEvent",t[7]),dt(e.$$.fragment),lt(e.$$.fragment,1),ft(e,o.parentNode,o)):e=null}else c&&e.$set(l)},i(t){l||(e&&lt(e.$$.fragment,t),l=!0)},o(t){e&&it(e.$$.fragment,t),l=!1},d(t){t&&m(o),e&&pt(e,t)}}}function _t(t){let e,o,l;const i=[{params:t[1]},t[2]];var c=t[0];function s(t){let e={};for(let t=0;t<i.length;t+=1)e=n(e,i[t]);return{props:e}}return c&&(e=new c(s()),e.$on("routeEvent",t[6])),{c(){e&&dt(e.$$.fragment),o=w()},m(t,n){e&&ft(e,t,n),h(t,o,n),l=!0},p(t,n){const l=6&n?rt(i,[2&n&&{params:t[1]},4&n&&at(t[2])]):{};if(c!==(c=t[0])){if(e){nt();const t=e;it(t.$$.fragment,1,0,(()=>{pt(t,1)})),ot()}c?(e=new c(s()),e.$on("routeEvent",t[6]),dt(e.$$.fragment),lt(e.$$.fragment,1),ft(e,o.parentNode,o)):e=null}else c&&e.$set(l)},i(t){l||(e&&lt(e.$$.fragment,t),l=!0)},o(t){e&&it(e.$$.fragment,t),l=!1},d(t){t&&m(o),e&&pt(e,t)}}}function kt(t){let e,n,o,l;const i=[_t,xt],c=[];function s(t,e){return t[1]?0:1}return e=s(t),n=c[e]=i[e](t),{c(){n.c(),o=w()},m(t,n){c[e].m(t,n),h(t,o,n),l=!0},p(t,[l]){let r=e;e=s(t),e===r?c[e].p(t,l):(nt(),it(c[r],1,1,(()=>{c[r]=null})),ot(),n=c[e],n?n.p(t,l):(n=c[e]=i[e](t),n.c()),lt(n,1),n.m(o.parentNode,o))},i(t){l||(lt(n),l=!0)},o(t){it(n),l=!1},d(t){c[e].d(t),t&&m(o)}}}function Ct(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const Et=yt(null,(function(t){t(Ct());const e=()=>{t(Ct())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));wt(Et,(t=>t.location)),wt(Et,(t=>t.querystring));function Lt(t,e,n){let{routes:o={}}=e,{prefix:l=""}=e,{restoreScrollState:i=!1}=e;class c{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:o}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,o,l,i,c=[],s="",r=t.split("/");for(r[0]||r.shift();l=r.shift();)"*"===(n=l[0])?(c.push("wild"),s+="/(.*)"):":"===n?(o=l.indexOf("?",1),i=l.indexOf(".",1),c.push(l.substring(1,~o?o:~i?i:l.length)),s+=~o&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(s+=(~o?"?":"")+"\\"+l.substring(i))):s+="/"+l;return{keys:c,pattern:new RegExp("^"+s+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=o}match(t){if(l)if("string"==typeof l){if(!t.startsWith(l))return null;t=t.substr(l.length)||"/"}else if(l instanceof RegExp){const e=t.match(l);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let o=0;for(;o<this._keys.length;){try{n[this._keys[o]]=decodeURIComponent(e[o+1]||"")||null}catch(t){n[this._keys[o]]=null}o++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const s=[];o instanceof Map?o.forEach(((t,e)=>{s.push(new c(e,t))})):Object.keys(o).forEach((t=>{s.push(new c(t,o[t]))}));let r=null,a=null,u={};const d=function(){const t=I();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const l=z(e,n);o.slice().forEach((e=>{e.call(t,l)}))}}}();async function f(t,e){await(F(),U),d(t,e)}let p=null;var h;i&&(window.addEventListener("popstate",(t=>{p=t.state&&t.state.scrollY?t.state:null})),h=()=>{p?window.scrollTo(p.scrollX,p.scrollY):window.scrollTo(0,0)},I().$$.after_update.push(h));let m=null,g=null;return Et.subscribe((async t=>{m=t;let e=0;for(;e<s.length;){const o=s[e].match(t.location);if(!o){e++;continue}const l={route:s[e].path,location:t.location,querystring:t.querystring,userData:s[e].userData};if(!await s[e].checkConditions(l))return n(0,r=null),g=null,void f("conditionsFailed",l);f("routeLoading",Object.assign({},l));const i=s[e].component;if(g!=i){i.loading?(n(0,r=i.loading),g=i,n(1,a=i.loadingParams),n(2,u={}),f("routeLoaded",Object.assign({},l,{component:r,name:r.name}))):(n(0,r=null),g=null);const e=await i();if(t!=m)return;n(0,r=e&&e.default||e),g=i}return o&&"object"==typeof o&&Object.keys(o).length?n(1,a=o):n(1,a=null),n(2,u=s[e].props),void f("routeLoaded",Object.assign({},l,{component:r,name:r.name}))}n(0,r=null),g=null})),t.$$set=t=>{"routes"in t&&n(3,o=t.routes),"prefix"in t&&n(4,l=t.prefix),"restoreScrollState"in t&&n(5,i=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=i?"manual":"auto")},[r,a,u,o,l,i,function(e){N(t,e)},function(e){N(t,e)}]}class jt extends mt{constructor(t){super(),ht(this,t,Lt,kt,s,{routes:3,prefix:4,restoreScrollState:5})}}function zt(e){let n,o,l;return{c(){n=v("div"),n.innerHTML='<div class="col-6"><h4>Dashboard</h4></div> \n<div class="col-6 text-right"></div>',o=$(),l=v("div"),l.textContent="Choose a category from the left",_(n,"class","row topnav"),_(l,"class","content")},m(t,e){h(t,n,e),h(t,o,e),h(t,l,e)},p:t,i:t,o:t,d(t){t&&m(n),t&&m(o),t&&m(l)}}}function St(t,e,n){let{data:o}=e;return t.$$set=t=>{"data"in t&&n(0,o=t.data)},[o]}class Tt extends mt{constructor(t){super(),ht(this,t,St,zt,s,{data:0})}}function Mt(t,e,n){const o=t.slice();return o[12]=e[n],o}function At(t){let e,n;function o(t,e){return""==t[12].title?It:Ot}let l=o(t),i=l(t);return{c(){e=v("a"),i.c(),_(e,"href",n="/#/edit/"+t[0]+"/"+t[12].id)},m(t,n){h(t,e,n),i.m(e,null)},p(t,c){l===(l=o(t))&&i?i.p(t,c):(i.d(1),i=l(t),i&&(i.c(),i.m(e,null))),3&c&&n!==(n="/#/edit/"+t[0]+"/"+t[12].id)&&_(e,"href",n)},d(t){t&&m(e),i.d()}}}function qt(t){let e,n,o,l=t[12].title+"";return{c(){e=v("a"),n=y(l),_(e,"href",o="/#/collections/"+t[12].id)},m(t,o){h(t,e,o),p(e,n)},p(t,i){2&i&&l!==(l=t[12].title+"")&&k(n,l),2&i&&o!==(o="/#/collections/"+t[12].id)&&_(e,"href",o)},d(t){t&&m(e)}}}function Ot(t){let e,n=t[12].title+"";return{c(){e=y(n)},m(t,n){h(t,e,n)},p(t,o){2&o&&n!==(n=t[12].title+"")&&k(e,n)},d(t){t&&m(e)}}}function It(e){let n;return{c(){n=y("Untitled")},m(t,e){h(t,n,e)},p:t,d(t){t&&m(n)}}}function Ht(t){let e,n,o;function l(){return t[9](t[12])}return{c(){e=v("button"),e.innerHTML='<i class="bi bi-trash"></i>',_(e,"class","btn btn-outline-secondary")},m(t,i){h(t,e,i),n||(o=x(e,"click",l),n=!0)},p(e,n){t=e},d(t){t&&m(e),n=!1,o()}}}function Nt(t){let e,n,o,l,i,c;function s(t,e){return"collections"==t[0]?qt:At}let r=s(t),a=r(t),u="collections"!==t[0]&&Ht(t);return{c(){e=v("li"),n=v("div"),o=v("div"),a.c(),l=$(),i=v("div"),u&&u.c(),c=$(),_(o,"class","col-6 text-truncate d-flex align-items-center"),_(i,"class","col-6 text-right"),_(n,"class","row"),_(e,"class","list-group-item")},m(t,s){h(t,e,s),p(e,n),p(n,o),a.m(o,null),p(n,l),p(n,i),u&&u.m(i,null),p(e,c)},p(t,e){r===(r=s(t))&&a?a.p(t,e):(a.d(1),a=r(t),a&&(a.c(),a.m(o,null))),"collections"!==t[0]?u?u.p(t,e):(u=Ht(t),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},d(t){t&&m(e),a.d(),u&&u.d()}}}function Dt(t){let e,n,o,l,c,s,r,a,u,d,f,g,b,y,w,k,C,E,L,j,z,S,T=t[3]&&Rt(t);return{c(){e=v("div"),n=v("div"),o=v("div"),l=v("div"),c=v("div"),s=v("h5"),s.textContent="Add Collection",r=$(),a=v("button"),u=v("span"),u.textContent="×",d=$(),f=v("div"),T&&T.c(),g=$(),b=v("b"),b.textContent="Collection Name",y=$(),w=v("input"),k=$(),C=v("div"),C.textContent="Plural, lowercase, no spaces (e.g. 'entries', 'pages')",E=$(),L=v("div"),j=v("button"),j.textContent="Add Collection",_(s,"class","modal-title"),_(u,"aria-hidden","true"),_(a,"type","button"),_(a,"class","close"),_(a,"data-dismiss","modal"),_(a,"aria-label","Close"),_(c,"class","modal-header"),_(w,"type","text"),_(w,"class","form-control"),_(w,"id","coll-title"),_(C,"class","description-sub"),_(f,"class","modal-body"),_(j,"type","button"),_(j,"class","btn btn-primary"),_(L,"class","modal-footer"),_(l,"class","modal-content"),_(o,"class","modal-dialog"),_(o,"role","document"),_(n,"class","modal"),_(n,"tabindex","-1"),_(n,"role","dialog"),_(e,"class","backdrop")},m(i,m){h(i,e,m),p(e,n),p(n,o),p(o,l),p(l,c),p(c,s),p(c,r),p(c,a),p(a,u),p(l,d),p(l,f),T&&T.m(f,null),p(f,g),p(f,b),p(f,y),p(f,w),p(f,k),p(f,C),p(l,E),p(l,L),p(L,j),z||(S=[x(u,"click",t[10]),x(w,"keyup",t[11]),x(j,"click",t[6])],z=!0)},p(t,e){t[3]?T?T.p(t,e):(T=Rt(t),T.c(),T.m(f,g)):T&&(T.d(1),T=null)},d(t){t&&m(e),T&&T.d(),z=!1,i(S)}}}function Rt(t){let e,n;return{c(){e=v("div"),n=y(t[3]),_(e,"class","alert alert-danger")},m(t,o){h(t,e,o),p(e,n)},p(t,e){8&e&&k(n,t[3])},d(t){t&&m(e)}}}function Pt(e){let n,o,l,i,c,s,r,a,u,d,f,b,C,E,L=e[1],j=[];for(let t=0;t<L.length;t+=1)j[t]=Nt(Mt(e,L,t));let z=e[2]&&Dt(e);return{c(){n=v("div"),o=v("div"),l=v("h4"),i=y(e[0]),c=$(),s=v("div"),r=v("button"),r.textContent="Add",a=$(),u=v("div"),d=v("ul");for(let t=0;t<j.length;t+=1)j[t].c();f=$(),z&&z.c(),b=w(),_(o,"class","col-6"),_(r,"class","btn btn-dark btn-add"),_(s,"class","col-6 text-right"),_(n,"class","row topnav"),_(d,"class","list-group entries-list"),_(u,"class","content")},m(t,m){h(t,n,m),p(n,o),p(o,l),p(l,i),p(n,c),p(n,s),p(s,r),h(t,a,m),h(t,u,m),p(u,d);for(let t=0;t<j.length;t+=1)j[t].m(d,null);h(t,f,m),z&&z.m(t,m),h(t,b,m),C||(E=x(r,"click",e[4]),C=!0)},p(t,[e]){if(1&e&&k(i,t[0]),35&e){let n;for(L=t[1],n=0;n<L.length;n+=1){const o=Mt(t,L,n);j[n]?j[n].p(o,e):(j[n]=Nt(o),j[n].c(),j[n].m(d,null))}for(;n<j.length;n+=1)j[n].d(1);j.length=L.length}t[2]?z?z.p(t,e):(z=Dt(t),z.c(),z.m(b.parentNode,b)):z&&(z.d(1),z=null)},i:t,o:t,d(t){t&&m(n),t&&m(a),t&&m(u),g(j,t),t&&m(f),z&&z.d(t),t&&m(b),C=!1,E()}}}function Vt(){let t=document.querySelector("#coll-title"),e=t.value.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"_").replace(/^-+/,"").replace(/-+$/,"");return t.value=e,e}function Ut(t,e,n){let{params:o}=e,{data:l}=e,i=!1,c=!1,s=!1,r=!1;function a(t){confirm("Are you sure you want to delete this item?")&&(n(7,l[i]=l[i].filter((e=>e.id!==t)),l),n(7,l),n(8,o),n(0,i))}return t.$$set=t=>{"params"in t&&n(8,o=t.params),"data"in t&&n(7,l=t.data)},t.$$.update=()=>{385&t.$$.dirty&&o.cat&&(n(0,i=o.cat),i in l||n(7,l[i]=[],l),n(1,c=l[i]))},[i,c,s,r,function(){if("collections"==i)n(2,s=!0);else{let t={};t.id=Date.now(),t.title="",t.slug="",l[i].unshift(t),window.location="/#/edit/"+i+"/"+t.id}},a,function(){let t=Vt();if(t.length<3)n(3,r="Collection name should be at least 3 characters long");else if(t in l)n(3,r="Collection already exists");else{let e={};e.id=Date.now(),e.title=pluralize.plural(t),e.singular=pluralize.singular(t),e.fields=[],l.collections.push(e),n(7,l[t]=[],l),window.renderData(l),window.location="/#/collections/"+e.id}},l,o,t=>a(t.id),()=>n(2,s=!1),()=>Vt()]}class Bt extends mt{constructor(t){super(),ht(this,t,Ut,Pt,s,{params:8,data:7})}}function Ft(e){let n,o,l;return{c(){n=v("textarea"),_(n,"id",o="mde-"+e[1]),n.value=l=Wt(e[0])},m(t,e){h(t,n,e)},p(t,[e]){2&e&&o!==(o="mde-"+t[1])&&_(n,"id",o),1&e&&l!==(l=Wt(t[0]))&&(n.value=l)},i:t,o:t,d(t){t&&m(n)}}}function Wt(t){return void 0===t&&(t=""),t}function Gt(t,e,n){let{key:o}=e,{html:l}=e,i=!1;var c;return H((()=>{i=new EasyMDE({element:document.getElementById("mde-"+o)}),i.codemirror.on("change",(function(){n(0,l=i.value())}))})),c=()=>{i&&null!=i&&(i.toTextArea(),i=null)},I().$$.on_destroy.push(c),t.$$set=t=>{"key"in t&&n(1,o=t.key),"html"in t&&n(0,l=t.html)},[l,o]}class Yt extends mt{constructor(t){super(),ht(this,t,Gt,Ft,s,{key:1,html:0})}}function Xt(e){let n,o,l;return{c(){n=v("textarea"),_(n,"class","form-control")},m(t,i){h(t,n,i),C(n,e[0]),o||(l=x(n,"input",e[1]),o=!0)},p(t,[e]){1&e&&C(n,t[0])},i:t,o:t,d(t){t&&m(n),o=!1,l()}}}function Jt(t,e,n){let{val:o}=e;return t.$$set=t=>{"val"in t&&n(0,o=t.val)},[o,function(){o=this.value,n(0,o)}]}class Kt extends mt{constructor(t){super(),ht(this,t,Jt,Xt,s,{val:0})}}function Qt(t,e,n){const o=t.slice();return o[9]=e[n],o[10]=e,o[11]=n,o}function Zt(t){let e,n,o;return{c(){e=b("svg"),n=b("path"),o=b("path"),_(n,"fill-rule","evenodd"),_(n,"d","M12.002 4h-10a1 1 0 0 0-1 1v8l2.646-2.354a.5.5 0 0 1 .63-.062l2.66 1.773 3.71-3.71a.5.5 0 0 1 .577-.094l1.777 1.947V5a1 1 0 0 0-1-1zm-10-1a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-10zm4 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"),_(o,"fill-rule","evenodd"),_(o,"d","M4 2h10a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1v1a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2h1a1 1 0 0 1 1-1z"),_(e,"width","1em"),_(e,"height","1em"),_(e,"viewBox","0 0 16 16"),_(e,"class","bi bi-images svelte-ydwqzg"),_(e,"fill","currentColor"),_(e,"xmlns","http://www.w3.org/2000/svg")},m(t,l){h(t,e,l),p(e,n),p(e,o)},d(t){t&&m(e)}}}function te(t){let e;return{c(){e=v("span"),_(e,"class","spinner-border spinner-border-sm"),_(e,"role","status"),_(e,"aria-hidden","true")},m(t,n){h(t,e,n)},d(t){t&&m(e)}}}function ee(t){let e,n=t[0][t[1]],o=[];for(let e=0;e<n.length;e+=1)o[e]=ne(Qt(t,n,e));return{c(){e=v("ul");for(let t=0;t<o.length;t+=1)o[t].c();_(e,"class","list-group")},m(t,n){h(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,l){if(27&l){let i;for(n=t[0][t[1]],i=0;i<n.length;i+=1){const c=Qt(t,n,i);o[i]?o[i].p(c,l):(o[i]=ne(c),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(t){t&&m(e),g(o,t)}}}function ne(t){let e,n,o,l,c,s,r,a,u,d,f,g,b,y,w,k=window.config.imgTitle&&function(t){let e,n,o;function l(){t[6].call(e,t[11])}return{c(){e=v("input"),_(e,"type","text"),_(e,"class","form-control"),_(e,"placeholder",window.config.imgTitle)},m(i,c){h(i,e,c),C(e,t[0][t[1]][t[11]].title),n||(o=x(e,"input",l),n=!0)},p(n,o){t=n,3&o&&e.value!==t[0][t[1]][t[11]].title&&C(e,t[0][t[1]][t[11]].title)},d(t){t&&m(e),n=!1,o()}}}(t);function L(){return t[7](t[11])}function j(){return t[8](t[11])}return{c(){e=v("li"),n=v("div"),o=v("div"),l=v("div"),c=$(),s=v("div"),k&&k.c(),r=$(),a=v("div"),u=v("div"),d=v("button"),d.innerHTML='<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-caret-down svelte-ydwqzg" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3.204 5L8 10.481 12.796 5H3.204zm-.753.659l4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"></path></svg>',f=$(),g=v("button"),g.innerHTML='<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-trash svelte-ydwqzg" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"></path><path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"></path></svg>',b=$(),_(l,"class","box svelte-ydwqzg"),E(l,"background-image","url("+window.config.imgPath+t[9].filename+")"),_(o,"class","col-md-1"),_(s,"class","col-md-5"),_(d,"class","btn btn-outline-secondary svelte-ydwqzg"),_(g,"class","btn btn-outline-secondary svelte-ydwqzg"),_(u,"class","btn-group float-right"),_(a,"class","col-md-6"),_(n,"class","row svelte-ydwqzg"),_(e,"class","list-group-item svelte-ydwqzg")},m(t,i){h(t,e,i),p(e,n),p(n,o),p(o,l),p(n,c),p(n,s),k&&k.m(s,null),p(n,r),p(n,a),p(a,u),p(u,d),p(u,f),p(u,g),p(e,b),y||(w=[x(d,"click",L),x(g,"click",j)],y=!0)},p(e,n){t=e,3&n&&E(l,"background-image","url("+window.config.imgPath+t[9].filename+")"),window.config.imgTitle&&k.p(t,n)},d(t){t&&m(e),k&&k.d(),y=!1,i(w)}}}function oe(e){let n,o,l,i,c,s,r,a,u;function d(t,e){return t[2]?te:Zt}let f=d(e),g=f(e),b=e[0][e[1]].length>0&&ee(e);return{c(){n=v("input"),o=$(),l=v("button"),g.c(),i=y("\n\n Choose Image"),c=$(),b&&b.c(),s=$(),r=v("br"),_(n,"type","file"),_(n,"id","fileInput"),_(n,"class","fileInput svelte-ydwqzg"),_(n,"accept","image/*"),_(n,"data-name",e[1]),_(l,"class","btn btn-outline-secondary svelte-ydwqzg")},m(t,d){h(t,n,d),h(t,o,d),h(t,l,d),g.m(l,null),p(l,i),h(t,c,d),b&&b.m(t,d),h(t,s,d),h(t,r,d),a||(u=x(l,"click",e[5]),a=!0)},p(t,[e]){2&e&&_(n,"data-name",t[1]),f!==(f=d(t))&&(g.d(1),g=f(t),g&&(g.c(),g.m(l,i))),t[0][t[1]].length>0?b?b.p(t,e):(b=ee(t),b.c(),b.m(s.parentNode,s)):b&&(b.d(1),b=null)},i:t,o:t,d(t){t&&m(n),t&&m(o),t&&m(l),g.d(),t&&m(c),b&&b.d(t),t&&m(s),t&&m(r),a=!1,u()}}}function le(t,e,n){let{key:o}=e,{item:l}=e,i=!1;function c(t,e){if(console.log(t),1==confirm("Are you sure you want to delete this image?")){n(2,i=!0);let o={};o.path=l[t][e].filename,call_api("github/delete-file",o).then((function(o){o.ok?(console.log("Deleted"),l[t].splice(e,1),n(0,l),n(2,i=!1)):(console.log("Error deleting"),setTimeout((function(){n(2,i=!1)}),1e3))}))}}function s(t,e){var o=e+1;void 0!==l[t][o]&&(n(0,l[t]=function(t,e,n){if(n===e)return t;for(var o=t[e],l=n<e?-1:1,i=e;i!=n;i+=l)t[i]=t[i+l];return t[n]=o,t}(l[t],e,e+1),l),n(0,l))}l[o]||(l[o]=[]),H((async()=>{document.getElementById("fileInput").addEventListener("change",(function(t){if(n(2,i=!0),void 0!==config.imgWidth)var e=config.imgWidth;else e=800;var c=new Image;c.onload=function(){var t=document.createElement("canvas"),s=t.getContext("2d"),r=document.createElement("canvas"),a=r.getContext("2d");t.width=e,t.height=t.width*c.height/c.width;var u={width:Math.floor(.5*c.width),height:Math.floor(.5*c.height)};for(r.width=u.width,r.height=u.height,a.drawImage(c,0,0,u.width,u.height);.5*u.width>e;)u={width:Math.floor(.5*u.width),height:Math.floor(.5*u.height)},a.drawImage(r,0,0,2*u.width,2*u.height,0,0,u.width,u.height);s.drawImage(r,0,0,u.width,u.height,0,0,t.width,t.height);var d=t.toDataURL("image/jpeg");console.log(d);let f={};f.path="img/"+Date.now()+".jpg",f.type="img",f.content=d,call_api("github/set-data",f).then((function(t){if(t.ok){console.log("Saved");let t={filename:f.path};l[o].push(t),n(0,l),n(2,i=!1)}else console.log("Error saving"),setTimeout((function(){n(2,i=!1)}),1e3)})),URL.revokeObjectURL(c.src)},c.src=URL.createObjectURL(t.target.files[0])}))}));return t.$$set=t=>{"key"in t&&n(1,o=t.key),"item"in t&&n(0,l=t.item)},[l,o,i,c,s,()=>{document.querySelector("#fileInput").click()},function(t){l[o][t].title=this.value,n(0,l),n(1,o)},t=>s(o,t),t=>c(o,t)]}class ie extends mt{constructor(t){super(),ht(this,t,le,oe,s,{key:1,item:0})}}function ce(t,e,n){const o=t.slice();return o[18]=e[n],o[19]=e,o[20]=n,o}function se(t){let e,n,o,l,c,s,r,a,u,d,f,b,w,E,L,j,z,S,T=t[3].singular+"",M=t[4]&&re(),A=t[3].fields,q=[];for(let e=0;e<A.length;e+=1)q[e]=he(ce(t,A,e));const O=t=>it(q[t],1,1,(()=>{q[t]=null}));return{c(){e=v("div"),n=v("div"),o=v("h4"),l=y("Edit "),c=y(T),s=$(),r=v("div"),a=v("button"),M&&M.c(),u=y("  Save"),d=$(),f=v("div"),b=v("b"),b.textContent="Title",w=$(),E=v("input"),L=$();for(let t=0;t<q.length;t+=1)q[t].c();_(n,"class","col-6"),_(a,"class","btn btn-dark btn-add"),_(r,"class","col-6 text-right"),_(e,"class","row topnav"),_(E,"type","text"),_(E,"class","form-control"),_(f,"class","content")},m(i,m){h(i,e,m),p(e,n),p(n,o),p(o,l),p(o,c),p(e,s),p(e,r),p(r,a),M&&M.m(a,null),p(a,u),h(i,d,m),h(i,f,m),p(f,b),p(f,w),p(f,E),C(E,t[0][t[1]][t[2]].title),p(f,L);for(let t=0;t<q.length;t+=1)q[t].m(f,null);j=!0,z||(S=[x(a,"click",t[5]),x(E,"input",t[8])],z=!0)},p(t,e){if((!j||8&e)&&T!==(T=t[3].singular+"")&&k(c,T),t[4]?M||(M=re(),M.c(),M.m(a,u)):M&&(M.d(1),M=null),7&e&&E.value!==t[0][t[1]][t[2]].title&&C(E,t[0][t[1]][t[2]].title),15&e){let n;for(A=t[3].fields,n=0;n<A.length;n+=1){const o=ce(t,A,n);q[n]?(q[n].p(o,e),lt(q[n],1)):(q[n]=he(o),q[n].c(),lt(q[n],1),q[n].m(f,null))}for(nt(),n=A.length;n<q.length;n+=1)O(n);ot()}},i(t){if(!j){for(let t=0;t<A.length;t+=1)lt(q[t]);j=!0}},o(t){q=q.filter(Boolean);for(let t=0;t<q.length;t+=1)it(q[t]);j=!1},d(t){t&&m(e),M&&M.d(),t&&m(d),t&&m(f),g(q,t),z=!1,i(S)}}}function re(t){let e;return{c(){e=v("span"),_(e,"class","spinner-border spinner-border-sm"),_(e,"role","status"),_(e,"aria-hidden","true")},m(t,n){h(t,e,n)},d(t){t&&m(e)}}}function ae(t){let e,n,o=t[18].description+"";return{c(){e=v("div"),n=y(o),_(e,"class","description")},m(t,o){h(t,e,o),p(e,n)},p(t,e){8&e&&o!==(o=t[18].description+"")&&k(n,o)},d(t){t&&m(e)}}}function ue(t){let e,n,o;function l(){t[9].call(e,t[18])}return{c(){e=v("input"),_(e,"type","text"),_(e,"class","form-control")},m(i,c){h(i,e,c),C(e,t[0][t[1]][t[2]][t[18].title]),n||(o=x(e,"input",l),n=!0)},p(n,o){t=n,15&o&&e.value!==t[0][t[1]][t[2]][t[18].title]&&C(e,t[0][t[1]][t[2]][t[18].title])},d(t){t&&m(e),n=!1,o()}}}function de(t){let e,n,o;function l(e){t[10].call(null,e,t[18])}let i={};return void 0!==t[0][t[1]][t[2]][t[18].title]&&(i.val=t[0][t[1]][t[2]][t[18].title]),e=new Kt({props:i}),R.push((()=>ut(e,"val",l))),{c(){dt(e.$$.fragment)},m(t,n){ft(e,t,n),o=!0},p(o,l){t=o;const i={};!n&&15&l&&(n=!0,i.val=t[0][t[1]][t[2]][t[18].title],G((()=>n=!1))),e.$set(i)},i(t){o||(lt(e.$$.fragment,t),o=!0)},o(t){it(e.$$.fragment,t),o=!1},d(t){pt(e,t)}}}function fe(t){let e,n,o,l;function i(e){t[11].call(null,e,t[18])}function c(e){t[12].call(null,e,t[18])}let s={};return void 0!==t[18].title&&(s.key=t[18].title),void 0!==t[0][t[1]][t[2]][t[18].title]&&(s.html=t[0][t[1]][t[2]][t[18].title]),e=new Yt({props:s}),R.push((()=>ut(e,"key",i))),R.push((()=>ut(e,"html",c))),{c(){dt(e.$$.fragment)},m(t,n){ft(e,t,n),l=!0},p(l,i){t=l;const c={};!n&&8&i&&(n=!0,c.key=t[18].title,G((()=>n=!1))),!o&&15&i&&(o=!0,c.html=t[0][t[1]][t[2]][t[18].title],G((()=>o=!1))),e.$set(c)},i(t){l||(lt(e.$$.fragment,t),l=!0)},o(t){it(e.$$.fragment,t),l=!1},d(t){pt(e,t)}}}function pe(t){let e,n,o,l;function i(e){t[13].call(null,e,t[18])}function c(e){t[14].call(null,e)}let s={};return void 0!==t[18].title&&(s.key=t[18].title),void 0!==t[0][t[1]][t[2]]&&(s.item=t[0][t[1]][t[2]]),e=new ie({props:s}),R.push((()=>ut(e,"key",i))),R.push((()=>ut(e,"item",c))),{c(){dt(e.$$.fragment)},m(t,n){ft(e,t,n),l=!0},p(l,i){t=l;const c={};!n&&8&i&&(n=!0,c.key=t[18].title,G((()=>n=!1))),!o&&7&i&&(o=!0,c.item=t[0][t[1]][t[2]],G((()=>o=!1))),e.$set(c)},i(t){l||(lt(e.$$.fragment,t),l=!0)},o(t){it(e.$$.fragment,t),l=!1},d(t){pt(e,t)}}}function he(t){let e,n,o,l,i,c,s,r,a,u=t[18].title+"",d=t[18].description&&ae(t),f="txt"==t[18].type&&ue(t),g="txta"==t[18].type&&de(t),b="mde"==t[18].type&&fe(t),x="gal"==t[18].type&&pe(t);return{c(){e=v("b"),n=y(u),o=$(),d&&d.c(),l=$(),f&&f.c(),i=$(),g&&g.c(),c=$(),b&&b.c(),s=$(),x&&x.c(),r=w()},m(t,u){h(t,e,u),p(e,n),h(t,o,u),d&&d.m(t,u),h(t,l,u),f&&f.m(t,u),h(t,i,u),g&&g.m(t,u),h(t,c,u),b&&b.m(t,u),h(t,s,u),x&&x.m(t,u),h(t,r,u),a=!0},p(t,e){(!a||8&e)&&u!==(u=t[18].title+"")&&k(n,u),t[18].description?d?d.p(t,e):(d=ae(t),d.c(),d.m(l.parentNode,l)):d&&(d.d(1),d=null),"txt"==t[18].type?f?f.p(t,e):(f=ue(t),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),"txta"==t[18].type?g?(g.p(t,e),8&e&&lt(g,1)):(g=de(t),g.c(),lt(g,1),g.m(c.parentNode,c)):g&&(nt(),it(g,1,1,(()=>{g=null})),ot()),"mde"==t[18].type?b?(b.p(t,e),8&e&&lt(b,1)):(b=fe(t),b.c(),lt(b,1),b.m(s.parentNode,s)):b&&(nt(),it(b,1,1,(()=>{b=null})),ot()),"gal"==t[18].type?x?(x.p(t,e),8&e&&lt(x,1)):(x=pe(t),x.c(),lt(x,1),x.m(r.parentNode,r)):x&&(nt(),it(x,1,1,(()=>{x=null})),ot())},i(t){a||(lt(g),lt(b),lt(x),a=!0)},o(t){it(g),it(b),it(x),a=!1},d(t){t&&m(e),t&&m(o),d&&d.d(t),t&&m(l),f&&f.d(t),t&&m(i),g&&g.d(t),t&&m(c),b&&b.d(t),t&&m(s),x&&x.d(t),t&&m(r)}}}function me(t){let e,n,o=t[3]&&se(t);return{c(){o&&o.c(),e=w()},m(t,l){o&&o.m(t,l),h(t,e,l),n=!0},p(t,[n]){t[3]?o?(o.p(t,n),8&n&&lt(o,1)):(o=se(t),o.c(),lt(o,1),o.m(e.parentNode,e)):o&&(nt(),it(o,1,1,(()=>{o=null})),ot())},i(t){n||(lt(o),n=!0)},o(t){it(o),n=!1},d(t){o&&o.d(t),t&&m(e)}}}function ge(t,e,n){let{params:o}=e,{data:l}=e,i=!1,c=!1,s=!1,r=!1,a=!1;return t.$$set=t=>{"params"in t&&n(6,o=t.params),"data"in t&&n(0,l=t.data)},t.$$.update=()=>{195&t.$$.dirty&&o.cat&&o.id&&(n(1,i=o.cat),n(7,c=o.id),l[i].filter((t=>t.id==c))[0],n(2,s=l[i].findIndex((t=>t.id==c))),n(3,r=l.collections.filter((t=>t.title==i))[0]))},[l,i,s,r,a,function(){void 0!==l[i][s].slug&&""!=l[i][s].slug||function(){let t=l[i][s].title.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");n(0,l[i][s].slug=t+"-"+Math.floor(999*Math.random()),l),n(0,l)}(),n(4,a=!0);let t={path:"data.json",type:"json"};t.content=l,call_api("github/set-data",t).then((function(t){t.ok?(console.log("Saved"),n(4,a=!1)):(console.log("Error saving"),setTimeout((function(){n(4,a=!1)}),1e3))}))},o,c,function(){l[i][s].title=this.value,n(0,l),n(1,i),n(6,o),n(0,l),n(7,c),n(2,s),n(6,o),n(0,l),n(1,i),n(7,c)},function(t){l[i][s][t.title]=this.value,n(0,l),n(1,i),n(6,o),n(0,l),n(7,c),n(2,s),n(6,o),n(0,l),n(1,i),n(7,c),n(3,r),n(6,o),n(0,l),n(1,i),n(7,c)},function(t,e){l[i][s][e.title]=t,n(0,l)},function(t,e){e.title=t,n(3,r),n(6,o),n(0,l),n(1,i),n(7,c)},function(t,e){l[i][s][e.title]=t,n(0,l)},function(t,e){e.title=t,n(3,r),n(6,o),n(0,l),n(1,i),n(7,c)},function(t){l[i][s]=t,n(0,l)}]}class ve extends mt{constructor(t){super(),ht(this,t,ge,me,s,{params:6,data:0})}}function be(t,e,n){const o=t.slice();return o[19]=e[n],o[20]=e,o[21]=n,o}function ye(t){let e;return{c(){e=v("span"),_(e,"class","spinner-border spinner-border-sm"),_(e,"role","status"),_(e,"aria-hidden","true")},m(t,n){h(t,e,n)},d(t){t&&m(e)}}}function $e(t){let e,n,o,l=t[0].collections[t[1]].fields,i=[];for(let e=0;e<l.length;e+=1)i[e]=we(be(t,l,e));return{c(){e=v("ul"),n=v("li"),n.innerHTML='<div class="row"><div class="col-4"><input type="text" class="form-control mb-0" value="title" readonly=""/></div> \n    <div class="col-8"><div class="description mt-2">Each collection has a title field</div></div></div>',o=$();for(let t=0;t<i.length;t+=1)i[t].c();_(n,"class","list-group-item"),_(e,"class","list-group")},m(t,l){h(t,e,l),p(e,n),p(e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null)},p(t,n){if(99&n){let o;for(l=t[0].collections[t[1]].fields,o=0;o<l.length;o+=1){const c=be(t,l,o);i[o]?i[o].p(c,n):(i[o]=we(c),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=l.length}},d(t){t&&m(e),g(i,t)}}}function we(t){let e,n,o,l,c,s,r,a,u,d,f,g,b,y,w,k,E,j,z,S;function T(){t[10].call(l,t[20],t[21])}function M(){return t[11](t[21])}function A(){t[12].call(r,t[20],t[21])}function q(){t[13].call(d,t[20],t[21])}function O(){return t[14](t[19])}return{c(){e=v("li"),n=v("div"),o=v("div"),l=v("input"),c=$(),s=v("div"),r=v("input"),a=$(),u=v("div"),d=v("select"),f=v("option"),f.textContent="Text",g=v("option"),g.textContent="Textarea",b=v("option"),b.textContent="Markdown",y=v("option"),y.textContent="Gallery",w=$(),k=v("div"),E=v("button"),E.innerHTML='<i class="bi bi-trash"></i>',j=$(),_(l,"type","text"),_(l,"class","form-control mb-0"),_(l,"placeholder","field name"),_(o,"class","col-4"),_(r,"type","text"),_(r,"class","form-control mb-0"),_(r,"placeholder","field description (optional)"),_(s,"class","col-3"),f.__value="txt",f.value=f.__value,g.__value="txta",g.value=g.__value,b.__value="mde",b.value=b.__value,y.__value="gal",y.value=y.__value,_(d,"class","form-control mb-0"),void 0===t[19].type&&W(q),_(u,"class","col-3"),_(E,"class","btn btn-outline-secondary"),_(k,"class","col-2 text-right"),_(n,"class","row"),_(e,"class","list-group-item")},m(i,m){h(i,e,m),p(e,n),p(n,o),p(o,l),C(l,t[19].title),p(n,c),p(n,s),p(s,r),C(r,t[19].description),p(n,a),p(n,u),p(u,d),p(d,f),p(d,g),p(d,b),p(d,y),L(d,t[19].type),p(n,w),p(n,k),p(k,E),p(e,j),z||(S=[x(l,"input",T),x(l,"keyup",M),x(r,"input",A),x(d,"change",q),x(E,"click",O)],z=!0)},p(e,n){t=e,3&n&&l.value!==t[19].title&&C(l,t[19].title),3&n&&r.value!==t[19].description&&C(r,t[19].description),3&n&&L(d,t[19].type)},d(t){t&&m(e),z=!1,i(S)}}}function xe(e){let n,o,l,c,s,r,a,u,d,f,g,b,w,C,E,L,j,z,S,T,M=e[0].collections[e[1]].title+"",A=e[2]&&ye(),q=e[0].collections[e[1]].fields&&$e(e);return{c(){n=v("div"),o=v("div"),l=v("h4"),c=v("span"),c.textContent="Edit Collection:",s=$(),r=y(M),a=$(),u=v("div"),d=v("button"),A&&A.c(),f=y("  Save"),g=$(),b=v("div"),w=v("div"),C=v("div"),C.innerHTML='<b>Fields</b> \n    <div class="description">Fields in this collection</div>',E=$(),L=v("div"),j=v("button"),j.innerHTML='<i class="bi bi-plus-circle"></i> Add Field',z=$(),q&&q.c(),_(c,"class","medium-hide"),_(o,"class","col-6"),_(d,"class","btn btn-dark btn-add"),_(u,"class","col-6 text-right"),_(n,"class","row topnav"),_(C,"class","col-6"),_(j,"class","btn btn-outline-dark btn-add float-right"),_(L,"class","col-6 text-right"),_(w,"class","row"),_(b,"class","content")},m(t,i){h(t,n,i),p(n,o),p(o,l),p(l,c),p(l,s),p(l,r),p(n,a),p(n,u),p(u,d),A&&A.m(d,null),p(d,f),h(t,g,i),h(t,b,i),p(b,w),p(w,C),p(w,E),p(w,L),p(L,j),p(b,z),q&&q.m(b,null),S||(T=[x(d,"click",e[3]),x(j,"click",e[4])],S=!0)},p(t,[e]){3&e&&M!==(M=t[0].collections[t[1]].title+"")&&k(r,M),t[2]?A||(A=ye(),A.c(),A.m(d,f)):A&&(A.d(1),A=null),t[0].collections[t[1]].fields?q?q.p(t,e):(q=$e(t),q.c(),q.m(b,null)):q&&(q.d(1),q=null)},i:t,o:t,d(t){t&&m(n),A&&A.d(),t&&m(g),t&&m(b),q&&q.d(),S=!1,i(T)}}}function _e(t,e,n){let{params:o}=e,{data:l}=e,i=!1,c=!1,s=!1,r=!1;function a(t){confirm("Are you sure you want to delete this field?")&&(n(0,l.collections[s].fields=l.collections[s].fields.filter((e=>e.title!==t)),l),n(0,l))}function u(t){let e=l.collections[s].fields[t].title.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"_").replace(/^-+/,"").replace(/-+$/,"");n(0,l.collections[s].fields[t].title=e,l),n(0,l)}return t.$$set=t=>{"params"in t&&n(7,o=t.params),"data"in t&&n(0,l=t.data)},t.$$.update=()=>{899&t.$$.dirty&&o.id&&(n(8,i="collections"),n(9,c=o.id),l[i].filter((t=>t.id==c))[0],n(1,s=l[i].findIndex((t=>t.id==c))),l.collections.filter((t=>t.title==i))[0],l.collections[s].title)},[l,s,r,function(){n(2,r=!0);let t={path:"data.json",type:"json"};t.content=l,call_api("github/set-data",t).then((function(t){t.ok?(console.log("Saved"),n(2,r=!1)):(console.log("Error saving"),setTimeout((function(){n(2,r=!1)}),1e3))}))},function(){let t={title:"",description:"",type:"txt"};l.collections[s].fields.push(t),n(0,l)},a,u,o,i,c,function(t,e){t[e].title=this.value,n(0,l),n(1,s),n(7,o),n(0,l),n(8,i),n(9,c)},t=>u(t),function(t,e){t[e].description=this.value,n(0,l),n(1,s),n(7,o),n(0,l),n(8,i),n(9,c)},function(t,e){t[e].type=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,l),n(1,s),n(7,o),n(0,l),n(8,i),n(9,c)},t=>a(t.title)]}class ke extends mt{constructor(t){super(),ht(this,t,_e,xe,s,{params:7,data:0})}}class Ce extends mt{constructor(t){super(),ht(this,t,null,null,s,{})}}function Ee(t,e,n){const o=t.slice();return o[8]=e[n],o}function Le(e){let n;return{c(){n=v("div"),n.innerHTML='<img src="assets/img/rocket-planet.png"/> \n \t\t<button id="google-signin" onclick="login(&#39;google&#39;);" class="btn btn-outline-dark w-100 btn-signin"><i class="bi bi-google"></i> Sign In with Google</button> \n\t\t<button id="twitter-signin" onclick="login(&#39;twitter&#39;);" class="btn btn-outline-dark w-100 mt-2 btn-signin"><i class="bi bi-twitter"></i> Sign In with Twitter</button>',_(n,"id","log-in-screen")},m(t,e){h(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}function je(t){let e,n,o,l,c,s,r,a,u,d,f,b,y,w,k,C,E,L,z,S=t[0].collections,T=[];for(let e=0;e<S.length;e+=1)T[e]=Te(Ee(t,S,e));return k=new jt({props:{routes:t[1]}}),{c(){e=v("div"),n=v("div"),o=v("div"),l=v("a"),l.innerHTML='<img src="assets/img/rocketlogo.png" id="logo"/>',c=$(),s=v("div"),r=v("div");for(let t=0;t<T.length;t+=1)T[t].c();a=$(),u=v("a"),u.textContent="collections",d=$(),f=v("a"),f.textContent="Log Out",b=$(),y=v("div"),w=v("div"),dt(k.$$.fragment),_(l,"href","/#/"),j(l,"selected",!1===t[2]),_(r,"id","collections-nav"),_(u,"href","/#/list/collections"),j(u,"selected","collections"===t[2]),_(f,"href","#"),_(s,"class","side-nav"),_(o,"class","side"),_(n,"class","col-md-2"),_(w,"class","main"),_(y,"class","col-md-10"),_(e,"class","row no-gutters page")},m(i,m){h(i,e,m),p(e,n),p(n,o),p(o,l),p(o,c),p(o,s),p(s,r);for(let t=0;t<T.length;t+=1)T[t].m(r,null);p(s,a),p(s,u),p(s,d),p(s,f),p(e,b),p(e,y),p(y,w),ft(k,w,null),E=!0,L||(z=[x(l,"click",t[5]),x(u,"click",t[7]),x(f,"click",t[4])],L=!0)},p(t,e){if(4&e&&j(l,"selected",!1===t[2]),5&e){let n;for(S=t[0].collections,n=0;n<S.length;n+=1){const o=Ee(t,S,n);T[n]?T[n].p(o,e):(T[n]=Te(o),T[n].c(),T[n].m(r,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=S.length}4&e&&j(u,"selected","collections"===t[2]);const n={};2&e&&(n.routes=t[1]),k.$set(n)},i(t){E||(lt(k.$$.fragment,t),W((()=>{C||(C=st(e,gt,{},!0)),C.run(1)})),E=!0)},o(t){it(k.$$.fragment,t),C||(C=st(e,gt,{},!1)),C.run(0),E=!1},d(t){t&&m(e),g(T,t),pt(k),t&&C&&C.end(),L=!1,i(z)}}}function ze(e){let n;return{c(){n=v("div"),n.innerHTML='<img src="assets/img/rocket-planet.png"/> \n<div class="clear"></div> \n<div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div>',_(n,"id","loading"),_(n,"class","text-center")},m(t,e){h(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}function Se(t){let e,n,o,l,i,c=t[8].title+"";function s(){return t[6](t[8])}return{c(){e=v("a"),n=y(c),_(e,"href",o="/#/list/"+t[8].title),j(e,"selected",t[2]===t[8].title)},m(t,o){h(t,e,o),p(e,n),l||(i=x(e,"click",s),l=!0)},p(l,i){t=l,1&i&&c!==(c=t[8].title+"")&&k(n,c),1&i&&o!==(o="/#/list/"+t[8].title)&&_(e,"href",o),5&i&&j(e,"selected",t[2]===t[8].title)},d(t){t&&m(e),l=!1,i()}}}function Te(t){let e,n="collections"!==t[8].title&&Se(t);return{c(){n&&n.c(),e=w()},m(t,o){n&&n.m(t,o),h(t,e,o)},p(t,o){"collections"!==t[8].title?n?n.p(t,o):(n=Se(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&m(e)}}}function Me(t){let e,n,o,l,i,c,s,r;const a=[ze,je,Le],u=[];function d(t,e){return t[3]?0:t[1]&&t[0]?1:2}return i=d(t),c=u[i]=a[i](t),{c(){e=v("link"),n=v("script"),l=$(),c.c(),s=w(),_(e,"rel","stylesheet"),_(e,"href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"),n.src!==(o="https://cdnjs.cloudflare.com/ajax/libs/pluralize/8.0.0/pluralize.min.js")&&_(n,"src","https://cdnjs.cloudflare.com/ajax/libs/pluralize/8.0.0/pluralize.min.js")},m(t,o){p(document.head,e),p(document.head,n),h(t,l,o),u[i].m(t,o),h(t,s,o),r=!0},p(t,[e]){let n=i;i=d(t),i===n?u[i].p(t,e):(nt(),it(u[n],1,1,(()=>{u[n]=null})),ot(),c=u[i],c?c.p(t,e):(c=u[i]=a[i](t),c.c()),lt(c,1),c.m(s.parentNode,s))},i(t){r||(lt(c),r=!0)},o(t){it(c),r=!1},d(t){m(e),m(n),t&&m(l),u[i].d(t),t&&m(s)}}}function Ae(t,e,n){let o=!1,l=!1,i=!1,c=!0;H((async()=>{firebase.auth().onAuthStateChanged((async function(t){t?t.getIdToken().then((async function(t){console.log("Signed in");const e=await fetch("data.json");n(0,o=await e.json()),console.log(o),n(1,l={"/":vt({component:Tt,props:{data:o}}),"/list/:cat":vt({component:Bt,props:{data:o}}),"/edit/:cat/:id":vt({component:ve,props:{data:o}}),"/collections/:id":vt({component:ke,props:{data:o}}),"*":Ce}),setTimeout((function(){n(3,c=!1)}),1e3)})):(console.log("User not signed in"),setTimeout((function(){n(3,c=!1)}),1e3))}))})),window.renderData=function(t){n(0,o=t)};return[o,l,i,c,function(){firebase.auth().signOut().then((()=>{console.log("Signed out"),n(0,o=!1),n(1,l=!1)})).catch((t=>{console.log(t)}))},()=>n(2,i=!1),t=>n(2,i=t.title),()=>n(2,i="collections")]}return new class extends mt{constructor(t){super(),ht(this,t,Ae,Me,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
